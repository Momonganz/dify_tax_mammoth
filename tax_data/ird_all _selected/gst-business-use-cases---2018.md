1 IN CONFIDENCE Goods and Services Tax (GST) Business use cases Date: Mar 2018 Version: v1.00 FINAL 2 IN CONFIDENCE Contents GST business use cases .................................................................................. 3 How to use this document ................................................................................. 3 Summary of GST use cases ............................................................................... 3 Use Case 01: Submit a new GST return ............................................................ 4 Use Case 02 : Retrieve submission status and obligation ..................................... 7 Use Case 03 : Retrieve previously-submitted GST return ................................... 10 Use Case 04 : Amend and submit a GST return ................................................ 13 3 IN CONFIDENCE GST business use cases A selection of use cases relevant to GST business outcomes are provided on this document. How to use this document The GST Business use cases show sequences of IR’s gateway Return Service operations that could be used to achieve a specific business outcome. They do not comprise a comprehensive list of all required business outcomes, nor are they prescriptive or intended to inhibit software innovation in any way Additionally the processes described to invoke the Returns service operations should not inhibit innovation to combine calls across the Gateway Service to achieve the same outcome or solve business needs not described here. Summary of GST use cases # Business use case File Prepop Retrieve Status Retrieve Return Retrieve Filing Obligation 1 Submit a new GST return 2 1 2 Retrieve the status of previously- submitted GST return and next filing obligation 1 2 3 Retrieve previously-submitted GST return 1 4 Amend and submit a GST return 2 1 Notes 1 The linking/delinking between a tax agent with their client/s is excluded from the scope of Gateway Services. This action must be done using the existing online services channel, which may take up to 48 hours. 2 The terms ‘File return’ and ‘Submit return’ are used interchangeably and represent the same intent of submitting a GST return. 4 IN CONFIDENCE Use Case 01: Submit a new GST return Submit a new GST return User Accounting Software IR Gateway Services Submit a new GST return Prepop 9. Invoke Operation ‘File’ 2. Prepare the Return 5. Prepopulated Return Data 12. Process Return 13. Successful Return Submission 3. Invoke Operation ‘Prepop’ 4. Get Data 1. Request to submit a new Return 6. View Prepopulated Return 7. Complete and submit a new Return 14. View Success Message 8. File the Return 10a. GST Return Type? New 11. View Error Message (duplicate submission is not allowed) 10b. Get Error Response Message Duplicate 10c. Follow “Amend and Submit GST Return” Use Case Amend --- Dotted line is a suggest way to cascade operations. 5 IN CONFIDENCE Use Case 01 details Use case: Submit a new GST return Primary actor • User Secondary actors • Accounting software • Gateway Returns Service Description • The goal of the user is to successfully submit a new GST return Pre-conditions • User is logged-in to accounting software • User has used their IR online services credential to grant accounting software consent to access their information • User is enrolled for GST service • User has an active GST account • In cases where user is a tax agent or an intermediary, must have a delegated access from the customer Post-conditions • User successfully submits a new GST return in accounting software Constraints • Submitting the GST return must be prepared and submitted through the accounting software • At the time of any service request the accounting software must hold a valid access token for the user Use case scenarios 1. Normal flow 1.1 User requests to submit a new GST return 1.2 Accounting software prepares the return 1.3 Returns service ‘Prepop’ operation is invoked. 1.4 Returns service retrieves the return data and provides it to accounting software 1.5 Accounting software displays prepopulated return data 1.6 User views the prepopulated return data in accounting software 1.7 User completes and submits a new GST return 1.8 Accounting software receives a request to file the return 1.9 Returns service ‘File’ operation is invoked 1.10 Returns service validates the type of return – new, duplicate or amendment 1.11 For new return, Returns service processes the return and returns a success response to accounting software (for amended or duplicate return please refer exception flows 2 and 3 below) 1.12 Accounting software displays the success message to user 1.13 User views a confirmation message that GST return has been filed successfully 1.14 Use case ends. 2. Exception flow: Return is a duplicate 2.1 User attempts to submit a duplicate return 2.2 Returns service returns an error response to accounting software (please refer section 5.1 ‘Response codes’ in the Returns service build pack) 2.3 Accounting software displays the error message 2.4 User views the error message with the intent that 6 IN CONFIDENCE Use case: Submit a new GST return duplicate return filing is not allowed 3. Exception flow: Return is an amendment Please follow Use case 3.4. 4. Exception flow: User is not enrolled for GST return 4.1 Returns service validates user’s enrolment to use GST service and fails to validate 4.2 Returns service returns an error response to accounting software (please refer section 5.1 ‘Response codes’ in the Returns service build pack) 4.3 Accounting software displays the error message that user is not enrolled to use GST service 4.4 User views the error message 4.5 Use case ends. 5. Exception: User is not authorised to use service 5.1 The user is valid, however doesn’t have the correct permissions to use this service. 5.2 Returns service fails to authorise the user and returns an error response to the accounting software (please refer section 5.1 ‘Response codes’ in the Returns service build pack) 5.3 Accounting software displays the error message 5.4 User views the error message 5.5 Use case ends. 6. Exception: Authentication token is expired 6.1 Identity and Access services validate and find authentication token expired (please refer section 2 in the ‘Identity and Access Services’ build pack) 6.2 Identity and Access services validate credentials and generate new token 6.3 Identity and Access services records new token generation request 6.4 Use case ends. 7 IN CONFIDENCE Use Case 02 : Retrieve submission status and obligation Retrieve the status of previously-submitted GST return and next filing obligation Retrieve the status of previously submitted GST return and next filing obligation Customer Accounting Software IR Gateway Services 3. Invoke Operation ‘RetrieveStatus’ 7. Get Next Filing Obligation 2. Request Status of Previously Filed Return 1. Confirm GST Return Status and Next Filing Obligation 5. Request Next Filing Obligation 6. Invoke Operation ‘RetrieveFilingO bligation’ 4. Get Status of Requested Return 9. View Return Status and Next Filing Obligation 8. Display Return Status and Next Filing Obligation --- Dotted line is a suggest way to cascade operations. 8 IN CONFIDENCE Use Case 02 details Use case: Retrieve the status of previously-submitted GST return and next filing obligation Primary actor • User Secondary actors • Accounting software • Gateway Returns service Description • The goal of the user is to successfully retrieve the status of previously-submitted GST return and next filing obligation Pre-conditions • User is logged-in to accounting software • User has used their IR online services credential to grant accounting software consent to access their information • User is enrolled for GST service • User has an active GST account • In cases where the user is a tax agent or an intermediary, must have a delegated access from the customer • User has submitted a GST return in the past Post-conditions • User successfully views the status of previously- submitted GST return and next filing obligation (return due date) Constraints • At the time of any service request the accounting software must hold a valid access token for the user Use case scenarios 1. Normal flow 1.1 User requests the status of previously-submitted GST return and the next filing obligation. 1.2 Accounting software receives a request to retrieve the status of previously-filed GST return 1.3 Returns service ‘RetrieveStatus’ operation is invoked 1.4 Returns service retrieves the return status and provides it to accounting software 1.5 Accounting software receives a request to retrieve the next filing obligation 1.6 Returns service ‘RetrieveFilingObligation’ operation is invoked 1.7 Returns service retrieves the next filing obligation and provides it to accounting software 1.8 Accounting software displays the requested data 1.9 User views the status of previously-submitted GST return and the next filing obligation 1.10 Use case ends. 2. Exception flow: Invalid selection of GST return 2.1 The user attempts to retrieve the status of the a GST return which does not exist 2.2 Accounting software generates a request 2.3 Returns service ‘RetrieveStatus’ operation is invoked 2.4 Returns service fails to retrieve the status of identified GST return and returns an error response to accounting software (please refer section 5.1 ‘Response codes’ in the Returns service build pack) 2.5 User views the error message 9 IN CONFIDENCE Use case: Retrieve the status of previously-submitted GST return and next filing obligation 2.6 Use case ends. 3. Exception flow: User is not enrolled for GST return 3.1 Returns service validates user’s enrolment to use GST service and fails to validate 3.2 Returns service returns an error response to accounting software (Please see section 5.1 Response codes in Build Pack Returns service) 3.3 Accounting software displays the error message that user is not enrolled to use GST service 3.4 User views the error message 3.5 Use case ends. 4. Exception: Authentication token is expired 4.1 Identity and Access services validate and find authentication token expired due to inactivity (please refer section 2 in the ‘Identity and Access Services’ build pack) 4.2 Identity and Access services validate credentials and generate new token 4.3 Identity and Access services record new token generation request 4.4 Use case ends. 5. Exception: User is not authorised to use Service 5.1 The user is valid, however doesn’t have the correct permissions to use this service 5.2 Returns service fails to retrieve the status of the requested GST return and returns an error response to the accounting software (please see section 5.1 ‘Response codes’ in the Returns service build pack) 5.3 Accounting software displays the error message 5.4 User views the error message 5.5 Use case ends. 10 IN CONFIDENCE Use Case 03 : Retrieve previously-submitted GST return Retrieve previously submitted GST return Customer Accounting Software IR Gateway Services 2. Retrieve Return 5. Display Return 3. Invoke Operation ‘RetrieveReturn’ 4. Get Data 6. View Requested Return 1. Request Previously Submitted Return 11 IN CONFIDENCE Use Case 03 details Use case: Retrieve previously-submitted GST Return Primary actor • User Secondary actors • Accounting software • Gateway Returns service Description • The goal of the user is to retrieve a previously- submitted GST return Pre-conditions • User is logged-in to accounting software • User has used their IR online services credential to grant accounting software consent to access their information • User is enrolled for GST service • User has an active GST account • User has submitted a GST return in the past • In cases where the user is a tax agent or an intermediary, must have a delegated access from the customer Post-conditions • User successfully retrieves a previously- submitted GST return Constraints • Retrieving a previously-submitted GST return must be through the accounting software. • At the time of any service request the accounting software must hold a valid access token for the user Use case scenarios 1. Normal Flow 1.1 User identifies a previously-submitted GST return to retrieve 1.2 Accounting software receives the request to retrieve the identified GST return 1.3 Returns service ‘RetrieveReturn’ operation is invoked 1.4 Returns service retrieves the GST return data and returns it to accounting software 1.5 Accounting software displays the requested data 1.6 User views the retrieved GST return 1.7 Use case ends. 2. Exception flow: Invalid selection of GST return 2.1 The user attempts to retrieve the status of a GST return which does not exist 2.2 Accounting software generates a request 2.3 Returns service ‘RetrieveStatus’ operation is invoked 2.4 Returns service fails to retrieve the identified GST return and returns an error response to accounting software (please see section 5.1 ‘Response codes’ in the Returns service build pack). 2.5 User views the error message 12 IN CONFIDENCE Use case: Retrieve previously-submitted GST Return 2.6 Use case ends. 3. Exception flow: User is not enrolled for GST return 3.1 Returns service validates user’s enrolment to use GST service and fails to validate 3.2 Returns service returns an error response to accounting software (Please see section 5.1 Response codes in Build Pack Returns service) 3.3 Accounting software displays the error message that user is not enrolled to use GST service 3.4 User views the error message 3.5 Use case ends. 4. Exception: Authentication token is expired 4.1 Identity and Access services validate and find authentication token expired (please refer section 2 in the ‘Identity and Access Services’ build pack) 4.2 Identity and Access services validate credentials and generate new token 4.3 Identity and Access services record new token generation request 4.4 Use case ends. 5. Exception: User is not authorised to use Service 5.1 The user is valid, however doesn’t have the correct permissions to use this service 5.2 Returns services fails to authorise the user and returns an error response to the accounting software (please refer section 5.1 ‘Response codes’ in Returns service Build Pack) 5.3 Accounting software displays the error message 5.4 User views the error message 5.5 Use case ends. 13 IN CONFIDENCE Use Case 04 : Amend and submit a GST return Amend and submit a GST return Customer Accounting Software IR Gateway Services Amend and submit GST return Retrieve previously submitted GST return 2. Retrieve Return 5. Display Return 3. Invoke Operation ‘RetrieveReturn’ 4. Get Data 1. Request Previous Return 6. View Requested Return 7. Amend Return 8. Complete and Submit Return 10. Invoke Operation ‘File’ 11. Process Amended Return 12. Successful Return Submission 13. View Success Message 9. File Amended Return --- Dotted line is a suggest way to cascade operations. 14 IN CONFIDENCE Use Case 04 details • Use case: Amend and submit a GST return Primary actor • User Secondary actors • Accounting software • Gateway Returns service Description • The goal of the user is to amend and submit a GST return Pre-conditions • User is logged-in to accounting software • User has used their IR online services credential to grant accounting software consent to access their information • User is enrolled for GST service • User has an active GST account • User has submitted a GST return in the past • In cases where user is a tax agent or an intermediary, must have a delegated access from the customer Post-conditions • User retrieves a previously-submitted GST return, amends and successfully submits the return Constraints • Any return amendment and submission must be through the accounting software • At the time of any service request the accounting software must hold a valid access token for the user • Use case scenarios 1. Normal flow 1.1 User identifies a previously-submitted GST return to amend 1.2 Accounting software receives a request to retrieve the identified return 1.3 Returns service ‘RetrieveReturn’ operation is invoked 1.4 Returns service retrieves the data and sends it to accounting software 1.5 Accounting software displays the identified return data 1.6 User views the identified GST return 1.7 User amends the GST return 1.8 User completes and submits the amended GST return 1.9 Accounting software receives a request to file the amended GST return 1.10 Returns service ‘File’ operation is invoked 1.11 Returns service processes the return and sends success response to accounting software 1.12 Accounting software displays the success message to user 1.13 User views a confirmation message that GST return has been filed successfully 1.14 Use case ends. 2. Exception flow: User is not enrolled for GST return 2.1 Returns service validates user’s enrolment to use GST service and fails to validate. 2.2 Returns service returns an error response to accounting software (please refer section 5.1 15 IN CONFIDENCE • Use case: Amend and submit a GST return ‘Response codes’ in the Returns service build pack) 2.3 Accounting software displays the error message that user is not enrolled to use GST service 2.4 User views the error message 2.5 Use case ends. 3. Exception: User is not authorised to use Service 3.1 The user is valid, however doesn’t have the correct permissions to use this service 3.2 Returns service fails to retrieve the status of the requested GST return and returns an error response to the accounting software (please see section 5.1 ‘Response codes’ in the Returns service build pack) 3.3 Accounting software displays the error message 3.4 User views the error message 3.5 Use case ends. 4. Exception: Authentication token is expired 4.1 Identity and Access service validates and finds authentication token expired due to inactivity (please refer section 2 in the ‘Identity and Access Services’ build pack) 4.2 Identity and Access services validate credentials and generate new token 4.3 Identity and Access services record new token generation request 4.4 Use case ends. 5. Exception flow: Invalid selection of GST return 5.1 The user attempts to retrieve the status of the a GST return which does not exist 5.2 Accounting software generates a request to invoke the Returns service ‘RetrieveStatus’ operation 5.3 Returns service fails to retrieve the status of the requested GST return and returns an error response to the accounting software (please see section 5.1 ‘Response codes’ in the Returns service build pack) 5.4 User views the error message 5.5 Use case ends.