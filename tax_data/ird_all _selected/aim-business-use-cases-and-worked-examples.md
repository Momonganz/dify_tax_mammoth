IN CONFIDENCE Accounting Income Method (AIM) Business use cases and worked examples Date: Mar 2018 Version: v1.00 FINAL 2 IN CONFIDENCE Contents Overview ........................................................................................................ 3 How to use this document ................................................................................. 3 Business rules for AIM eligibility ........................................................................ 3 Summary of AIM use cases ............................................................................... 4 Use Case 01: Confirm user’s eligibility to use AIM service .................................... 5 Use Case 02 : Submit a new Statement of Activity ............................................. 7 Use Case 03 : Retrieve the status of previously submitted SOA and next filing obligation 10 Use Case 04 : Retrieve previously-submitted Statement of Activity .................... 13 Use Case 05 : Amend and submit a Statement of Activity.................................. 15 Worked examples ......................................................................................... 18 Example 1 .................................................................................................... 18 Example 2 .................................................................................................... 18 Example 3 .................................................................................................... 19 Example 4 .................................................................................................... 20 Example 5 .................................................................................................... 20 3 IN CONFIDENCE Overview A selection of use cases relevant to Accounting Income Method (AIM) with business functional outcomes are provided on this document. How to use this document The AIM Business use cases show sequences of IR’s gateway Return Service operations that could be used to achieve a specific business outcome. They do not comprise a comprehensive list of all required business outcomes, nor are they prescriptive or intended to inhibit software innovation in any way. Additionally the processes described to invoke the Returns service operations should not inhibit innovation to combine calls across the Gateway Service to achieve the same outcome or solve business needs not described here. The AIM worked examples provides sample calculations to reference for AIM. Business rules for AIM eligibility Inland Revenue’s Gateway Services will enforce the following AIM eligibility rules: Notes 1 The linking/delinking between a tax agent with their client/s is excluded from the scope of Gateway Services. This action must be done using the existing online services channel, which may take up to 48 hours. 2 The terms ‘Activity Statement’, ‘Statement of Activity’ and ‘SOA’ are used interchangeably and represent the same meaning. SN Criteria 1 Customer is not one of a class of customers excluded from using AIM (partnerships, Maori authorities, super funds and look through companies). 2 Customer is ‘active’. 3 Customer is not a member of an income tax consolidated group. 4 The tax year for which the customer wants to use AIM is not a transitional year (i.e. they have not changed their balance date in that year) . 4 IN CONFIDENCE Summary of AIM use cases # Business use case File Prepop Retrieve Status Retrieve Return Retrieve Filing Obligation 1 Confirm user’s eligibility to use AIM service 1 2 Submit a new Statement of Activity 2 1 3 Retrieve the status of previously submitted Statement of Activity and next filing obligation 1 2 4 Retrieve previously submitted Statement of Activity 1 5 Amend and submit a Statement of Activity 3 2 1 5 IN CONFIDENCE Use Case 01: Confirm user’s eligibility to use AIM service Confirm user’s eligibility to use AIM service User Accounting Software IR Gateway Services 1 . Confirm Eligibility to use AIM service 3 . Invoke Operation ‘Prepop’ 7 . Get Data 4 a . Retrieve Income Tax Data Yes 4 b . Get Error Response Message No 5 . View Message ( Not eligible to use AIM service ) 6 b . View Message ( Eligible to use AIM service ) 6 a . Get Success Response Message 2 . Confirmation request to check AIM service Use Case 01 details Use case: Confirm user’s eligibility to use AIM service Primary actor • User Secondary actors • Accounting software • Gateway Return Service Description • The goal of the user is to confirm the eligibility to use AIM service Pre-conditions • User is logged-in to accounting software • User has used their IR online services credential to grant accounting software consent to access their information • In cases where user is a tax agent or an intermediary, they must have delegated access from the customer Post-conditions • User finds out if eligible to use AIM service or not Constraints • The request must be sent using user’s accounting software • At the time of any service request the accounting software must hold a valid access token for the user Use case scenarios 1. Normal flow 1.1 User submits a request to confirm the eligibility to use AIM service 1.2 Accounting software receives a request 1.3 Return Service ‘Prepop’ operation is invoked 6 IN CONFIDENCE Use case: Confirm user’s eligibility to use AIM service 1.4 Return service validates user’s eligibility to use AIM service (please refer eligibility rules in Error! R eference source not found.). Once user is found eligible, Return service sends a successful response to accounting software and provides user’s income tax data\* to accounting software 1.5 User views the success message 1.6 Use case ends. \*Note that income tax data includes: • IRD number • Filing frequency • AIM statement type • Balance date • Transitional year • Residual income tax • Losses carried forward. 2. Exception flow: User is not eligible to use AIM service 2.1 Return service validates user’s eligibility to use AIM service (please refer eligibility rules in Error! R eference source not found.) and finds user not eligible to use AIM service 2.2 Return service returns an error message to accounting software 2.3 Accounting software displays the error message with an intent that user is not eligible to use AIM service. 2.4 User views the error message 2.5 Use case ends. 3. Exception: Authentication token is expired 3.1 Identity and Access service validates and finds authentication token expired (please refer section 2 in the ‘Identify and Access Services’ build pack) 3.2 Identity and Access services validate credentials and generates new token 3.3 Identity and Access services record new token generation request 2.6 Use case ends. 4. Exception: User is not authorised to use service 4.1 The user is valid, however doesn’t have the correct permissions to use this service 4.2 Return service fails to authorise the user and returns and error response to the accounting software (please see section 5.1 ‘Response codes’ in the Return service build pack) 4.3 Accounting software displays the error message 4.4 User views the error message 2.7 Use case ends. 7 IN CONFIDENCE Use Case 02 : Submit a new Statement of Activity Submit a new Statement of Activity (SOA) User Accounting Software IR Gateway Services 1. Complete and Submit ‘Statement of Activity’ 8. View Success Message 6. Process ‘Statement of Activity’ 7. Successful Statement Submission 2. File New ‘Statement of Activity’ Yes 5a. Get Error Response Message 6. View Message (Not eligible to use AIM service) 4a. AIM SOA Type? 5. View Message (Amend/Duplicate submission is not allowed) 4b. Get Error Response Message 4c. Follow ‘Amend and Submit SOA’ Use Case 3. Invoke Operation ‘File’ Validate Eligibility No New DuplicateAmend Use Case 02 details Use case: Submit a new Statement of Activity Primary actor • User Secondary actors • Accounting software • Gateway Return Service Description • The goal of the user is to successfully submit a new ‘Statement of Activity’ Pre-conditions • User is logged-in to accounting software • User has used their IR online services credential to grant accounting software consent to access their information • User is enrolled for AIM service • User is eligible to use AIM service • In cases where the user is a tax agent or an intermediary, must have delegated access from the customer Post-conditions • User successfully submits a new ‘Statement of Activity’ in accounting software Constraints • The ‘Statement of Activity’ must be prepared and submitted through the accounting software 8 IN CONFIDENCE Use case: Submit a new Statement of Activity • At the time of any service request the accounting software must hold a valid access token for the user Use case scenarios 1. Normal flow 1.1 User completes and submits ‘Statement of Activity’ in accounting software 1.2 Accounting software receives a request to file ‘Statement of Activity’ 1.3 Return service operation ‘File’ is invoked which validates user’s eligibility to use AIM service 1.4 Once user is found eligible, Return service validates the type of ‘Statement of Activity’. Please follow exception flows if user is not eligible or ‘Statement of Activity’ type is a duplicate or amendment 1.5 For a new Statement, Return service processes the ‘Statement of Activity’ and sends a success response to accounting software 1.6 Accounting software displays the success message to user 1.7 User views the successful submission of ‘Statement of Activity’ 1.8 Use case ends 2. Exception flow: The ‘Statement of Activity’ is a duplicate 2.1 User is found eligible and attempts to submit a duplicate ‘Statement of Activity’ 2.2 Return service returns an error message to accounting software informing that filing of a duplicate Statement is not allowed 2.3 Accounting software displays the error message 2.4 User views the error message. 3. Exception flow: The ‘Statement of Activity’ is an amendment Please follow Use case 3.5 here (Amend and submit a ‘Statement of Activity’) 4. Exception: User is not authorised to use Service 4.1 The user is valid, however doesn’t have the correct permissions to use this service 4.2 Return service fails to authorise the user and returns and error response to the accounting software (please see section 5.1 ‘Response codes’ in the Return service build pack) 4.3 Accounting software displays the error message 4.4 User views the error message 4.5 Use case ends. 5. Exception: Authentication token is expired 5.1 Identity and Access service validates and finds authentication token expired (please refer section 2 in the ‘Identify and Access Services’ build pack) 5.2 Identity and Access services validate credentials and generates new token 5.3 Identity and Access services record new token generation request 5.4 Use case ends. 9 IN CONFIDENCE Use case: Submit a new Statement of Activity 6. Exception flow: User is not eligible to use AIM service 6.1 Return service validates user’s eligibility to use AIM service (please refer eligibility rules here) and finds user not eligible to use AIM service 6.2 Return service returns an error message to accounting software 6.3 Accounting software displays the error message with an intent that user is not eligible to use AIM service. 6.4 User views the error message 6.5 Use case ends. 10 IN CONFIDENCE Use Case 03 : Retrieve the status of previously submitted SOA and next filing obligation Retrieve the status of previously submitted Statement of Activity (SOA) and next filing obligation Use Case 03 details Use case: Confirm the status of previously submitted Statement of Activity and next filing obligation Primary actor • User Secondary actors • Accounting software • Gateway Return Service Description • The goal of the user is to confirm the status of previously submitted ‘Statement of Activity’ and next filing obligation Pre-conditions • User is logged-in to accounting software • User has used their IR online services credential to grant accounting software consent to access their information • User is enrolled for AIM service • User is eligible to use AIM service • In cases where the user is a tax agent or an intermediary, they must have delegated access from the customer 11 IN CONFIDENCE Use case: Confirm the status of previously submitted Statement of Activity and next filing obligation • User has submitted an ‘Statement of Activity’ in the past Post-conditions • User successfully views the status of previously- submitted ‘Statement of Activity’ and next filing obligation Constraints • At the time of any service request the accounting software must hold a valid access token for the user Use case scenarios 1. Normal flow 1.1 User requests the status of previously submitted ‘Statement of Activity’ and the next filing obligation. 1.2 Accounting software requests the status of previously filed ‘Statement of Activity’ 1.3 Return service ‘RetrieveStatus’ operation is invoked 1.4 Return service retrieves the status of ‘Statement of Activity’ and provides it to accounting software 1.5 Accounting software requests the next filing obligation 1.6 Return service ‘RetrieveFilingObligation’ operation is invoked 1.7 Return service retrieves the next filing obligation and provides it to accounting software 1.8 Accounting software displays the requested data 1.9 User views the status of previously submitted ‘Statement of Activity’ and the next filing obligation 1.10 Use Case Ends. 2. Exception flow: Invalid selection of ‘Statement of Activity’ 2.1 The user attempts to retrieve the status of the ‘Statement of Activity’ which does not exist 2.2 Accounting software generates a request 2.3 Return service ‘RetrieveStatus’ operation is invoked 2.4 Return service fails to retrieve the requested ‘Statement of Activity’ ‘Statement of Activity’ and returns an error message to accounting software (please see section 5.1 ‘Response codes’ in the Build Pack Returns Service ) 2.5 Use case ends. 3. Exception flow: User is not eligible to use AIM service 3.1 Return service validates user’s eligibility to use AIM service (please refer eligibility rules here) and finds user not eligible to use AIM service 3.2 Return service returns an error message to accounting software 3.3 Accounting software displays the error message with an intent that user is not eligible to use AIM service 3.4 User views the error message 3.5 Use case ends. 4. Exception: Authentication token is expired 4.1 Identity and Access service validates and finds authentication token expired (please refer section 2 in the ‘Identify and Access Services’ build pack) 4.2 Identity and Access services validate credentials and generates new token 12 IN CONFIDENCE Use case: Confirm the status of previously submitted Statement of Activity and next filing obligation 4.3 Identity and Access services record new token generation request 4.4 Use case ends. 5. Exception: User is not authorised to use Service 5.1 The user is valid, however doesn’t have the correct permissions to use this service 5.2 Return service fails to authorise the user and returns and error response to the accounting software (please see section 5.1 ‘Response codes’ in the Return service build pack) 5.3 Accounting software displays the error message 5.4 User views the error message 5.5 Use case ends. 13 IN CONFIDENCE Use Case 04 : Retrieve previously-submitted Statement of Activity Retrieve previously submitted Statement of Activity User Accounting Software IR Gateway Services 5. Display requested ‘Statement of Activity’ 3. Invoke ‘RetrieveReturn’ 4. Get Data 6. View Requested ‘Statement of Activity’ 1. Request previously submitted ‘Statement of Activity’ 2. Retrieve Statement of Activity Use Case 04 details Use case: Retrieve previously-submitted Statement of Activity Primary actor • User Secondary actors • Accounting software • Gateway Return Service Description • The goal of the user is to retrieve a previously submitted ‘Statement of Activity’ Pre-conditions • User is logged-in to accounting software • User has used their IR online services credential to grant accounting software consent to access their information • User is enrolled for AIM service • User is eligible to use AIM service • In cases where the user is a tax agent or an intermediary, they must have delegated access from the customer • User has submitted a ‘Statement of Activity’ in the past Post-conditions • User successfully views the previously-submitted ‘Statement of Activity’ Constraints • At the time of any service request the accounting software must hold a valid access token for the user Use case scenarios 14 IN CONFIDENCE Use case: Retrieve previously-submitted Statement of Activity 1. Normal flow 1.1 User requests the retrieval of a previously-submitted ‘Statement of Activity’ 1.2 Accounting software generates a request 1.3 Return service ‘RetrieveReturn’ operation is invoked 1.4 Return service retrieves the data and provides it to the accounting software 1.5 Accounting software displays the requested information 1.6 User views the requested ‘Statement of Activity’ 1.7 Use case ends. 2. Exception flow: Invalid selection of ‘Statement of Activity’ 2.1 The user attempts to retrieve a ‘Statement of Activity’ that does not exist 2.2 Accounting software generates a request 2.3 Return service ‘RetrieveReturn’ operation is invoked 2.4 Return service fails to retrieve the requested ‘Statement of Activity’ and returns an error message to accounting software (please see section 5.1 ‘Response codes’ in the Build Pack Returns Service) 2.5 Use case ends. 3. Exception flow: User is not eligible to use AIM service 3.1 Return service validates user’s eligibility to use AIM service (please refer eligibility rules here) and finds user not eligible to use AIM service. 3.2 Return service returns an error message to accounting software. 3.3 Accounting software displays the error message with an intent that user is not eligible to use AIM service 3.4 User views the error message 3.5 Use case ends. 4. Exception: Authentication token is expired 4.1 Identity and Access service validates and finds authentication token expired (please refer section 2 in the ‘Identify and Access Services’ build pack) 4.2 Identity and Access services validate credentials and generates new token 4.3 Identity and Access services record new token generation request 4.4 Use case ends. 5. Exception: User is not authorised to use Service 5.1 The user is valid, however doesn’t have the correct permissions to use this service 5.2 Return service fails to authorise the user and returns and error response to the accounting software (please see section 5.1 ‘Response codes’ in the Return service build pack) 5.3 Accounting software displays the error message 5.4 User views the error message 5.5 Use case ends. 15 IN CONFIDENCE Use Case 05 : Amend and submit a Statement of Activity Amend and submit a Statement of Activity User Accounting Software Gateway Return Service Amend and submit a Statement of ActivityRetrieve previously submitted Statement of Activity 2. Retrieve ‘Statement of Activity’ 5. Display Statement of Activity 3. Invoke Operation ‘RetrieveReturn’ 4. Get Data 1. Request Previously submitted ‘Statement of Activity’ 6. View Requested ‘Statement of Activity’ 7. Amend ‘Statement of Activity’ 8. Complete and Submit ‘Statement of Activity’ 15. Successful ‘Statement of Activity’ Submission 16. View Success Message 9. File Amended ‘Statement of Activity’ 12. View Message (Not eligible to use AIM service) 14. Process ‘Statement of Activity’ Yes 11a. AIM SOA Type? 11c. Follow ‘Submit a new Statement of Activity’ Use Case 10. Invoke Operation ‘File’ Validate Eligibility Amend New 13. View Message (Amend/Duplicate submission is not allowed) 11b. Get Error Response Message No Duplicate 4b. Get Error Response Message Use Case 05 details Use case: Amend and submit a Statement of Activity Primary actors • User Secondary actors • Accounting software • Gateway Return Service Description • The goal of the user is to successfully amend and submit a ‘Statement of Activity’ Pre-conditions • User is logged-in to accounting software • User has used their IR online services credential to grant accounting software consent to access their information • User is enrolled for AIM service • User is eligible to use AIM service • In cases where the user is a tax agent or an intermediary, they must have delegated access from the customer • User has submitted a ‘Statement of Activity’ in the past Post-conditions • User successfully amends and submits a ‘Statement of Activity’ Constraints • At the time of any service request the accounting software must hold a valid access token for the user Use case scenarios 1. Normal flow 1.1 User requests the retrieval of a previously submitted ‘Statement of Activity’ 16 IN CONFIDENCE Use case: Amend and submit a Statement of Activity 1.2 Accounting software generates a request 1.3 Return service ‘RetrieveReturn’ operation is invoked 1.4 Return service retrieves the data and provides it to the accounting software 1.5 Accounting software displays the requested information 1.6 User views the requested ‘Statement of Activity’ 1.7 User amends the ‘Statement of Activity’ 1.8 User completes and submits ‘Statement of Activity’ in accounting software 1.9 Accounting software files the ‘Statement of Activity’ 1.10 Return service operation ‘File’ is invoked which validates user’s eligibility to use AIM service (please refer Use case 1 ‘Confirm user’s eligibility to use AIM service’) 1.11 Once user is found eligible, Return service validates the type of ‘Statement of Activity’. Please follow exception flows if user is not eligible or ‘Statement of Activity’ type is duplicate or amended 1.12 For a new Statement, Return service processes the ‘Statement of Activity’ and sends a success response to accounting software 1.13 Accounting software displays the success message to user 1.14 User views the successful submission of ‘Statement of Activity’ 1.15 Use case ends 2. Exception flow: Invalid selection of ‘Statement of Activity’ 2.1 The user attempts to retrieve a ‘Statement of Activity’ that does not exist 2.2 Accounting software generates a request which enables Gateway Return Service to invoke ‘RetrieveReturn’ operation 2.3 Gateway Return Service fails to retrieve the requested ‘Statement of Activity’ and returns an error message to accounting software (please see section 5.1 ‘Response codes’ in the Build Pack Returns Service) 2.4 Use case ends. 3. Exception flow: User is not eligible to use AIM service 3.1 Gateway Return Service validates user’s eligibility to use AIM service (please refer eligibility rules here) and finds user not eligible to use AIM service 3.2 Return service returns an error message to accounting software 3.3 Accounting software displays the error message with an intent that user is not eligible to use AIM service 3.4 User views the error message 3.5 Use case ends. 4. Exception: Authentication token is expired 4.1 Identity and Access service validates and finds authentication token expired (please refer section 2 in the ‘Identify and Access Services’ build pack) 17 IN CONFIDENCE Use case: Amend and submit a Statement of Activity 4.2 Identity and Access services validate credentials and generates new token 4.3 Identity and Access services record new token generation request 4.4 Use case ends. 5. Exception: User is not authorised to use Service 5.1 The user is valid, however doesn’t have the correct permissions to use this service 5.2 Return service fails to authorise the user and returns and error response to the accounting software (please see section 5.1 ‘Response codes’ in the Return service build pack) 5.3 Accounting software displays the error message 5.4 User views the error message 5.5 Use case ends. 6. Exception flow: The ‘Statement of Activity’ is a duplicate 6.1 User is found eligible and attempts to submit a duplicate ‘Statement of Activity’ 6.2 Return service returns an error message to accounting software with informing that filing of a duplicate Statement is not allowed 6.3 Accounting software displays the error message 6.4 User views the error message. 7. Exception flow: User is not eligible to use AIM service 7.1 Return service validates user’s eligibility to use AIM service (please refer eligibility rules here) and finds user not eligible to use AIM service 7.2 Return service returns an error message to accounting software 7.3 Accounting software displays the error message with informing that user is not eligible to use AIM service. 7.4 User views the error message 7.5 Use case ends. 18 IN CONFIDENCE Worked examples Example 1 Murphy has recently finished a painting apprenticeship and intends to set up his own house painting business. He has no previous business knowledge and his parents suggest he meet with their accountant to get some advice. The accountant suggests Murphy sets up a company, start using a basic accounting software package and elect into paying provisional tax using the AIM approach to help him budget in his first year of business. Murphy’s company has a March balance date and will pay GST and provisional tax using the AIM approach on a two-monthly basis. Murphy does not make any profit in the first few months but starts to make a profit towards the end of the year. He will pay provisional tax under AIM as follows: GST and provisional tax payment dates 28-Jun 2018 28-Aug 2018 28-Oct 2018 15-Jan 2019 28-Feb 2019 7-May 2019 Total prov tax Terminal tax due Income earned during current year Nil Nil NIL 20,000 30,000 50,000 28,000 AIM payment amount Nil Nil Nil 5,600 8,400 14,000 28,000 Nil AIM will help Murphy budget for tax correctly in his first year of operation as he pays tax as he earns income. Example 2 Sandy has just completed a qualification in graphic design and has decided to set up a business designing websites for customers. Being new to business Sandy approaches an accountant to understand what her tax obligations are and what dates tax payments need to be made. Her accountant recommends that Sandy use an accounting software package and suggests some options. Given Sandy is going to use accounting software to keep track of how her business is doing she thinks it makes sense to use an AIM-capable accounting system which also calculates her provisional tax liability. Sandy’s business has a March balance date and will pay GST and provisional tax using AIM on a twomonthly basis. For the first part of the year Sandy makes no profit but as the year progresses Sandy’s business starts making a profit. Under AIM Sandy will pay provisional tax as follows: GST and provisional tax payment dates 28-Jun 2018 28-Aug 2018 28-Oct 2018 15-Jan 2019 28-Feb 2019 7-May 2019 Total prov tax Terminal tax due Income earned during current year Nil Nil 3,000 7,500 12,000 18,000 6,108 AIM payment amount 315 788 1,855 3,150 6,108 0 19 IN CONFIDENCE Example 3 Benson Electrical Ltd is considering using AIM. They currently use accounting software, pay GST every two months, and have a March balance date. Their accountant talks to them about using AIM due to the unpredictable nature of the contracts they are being awarded. The inability to plan in the past has resulted in exposure to use-of-money interest. They generally have a slow start to the financial year but business picks up in the latter half. Their business is steadily growing and their residual income tax is $180,000 in 2017 and $220,000 in 2018. They ask their accountant to show them what their provisional tax liability would look like under different methods for the 2019 year and how exposure to use-of-money interest would differ. In this scenario, their possible use-of-money interest 1 costs range between nil and $6,880. GST and provisional tax payment dates 28-Jun 28-Aug 28-Oct 15-Jan 28-Feb 7-May Total prov tax Income earned during current year 108,000 Nil 178,000 250,000 178,000 143,000 Implied tax on taxable income 30,240 Nil 49,840 70,000 49,840 40,040 239,960 Provisional tax methods and due dates for payment 28-Jun 28-Aug 28-Oct 15-Jan 28-Feb 7-May Total prov tax Terminal tax due UOMI incurred AIM 30,240 0 49,840 70,000 49,840 40,040 239,960 0 0 Uplift 105% 77,000 77,000 77,000 231,000 8,960 737 Uplift 110% 66,000 66,000 66,000 198,000 41,960 3,449 Estimate 40,000 60,000 90,000 190,000 49,960 6,880 1 Calculation is based on UOMI rates of 8.22% and 1.02%. It also takes into account the new provisional tax rules of no use-of-money interest for residual income tax less than $60,000 (extension of safe harbour rules) and no use of money interest on the first two provisional tax instalments if using uplift. 20 IN CONFIDENCE Example 4 Tussock Socks Ltd has been paying its provisional tax using AIM. On its third AIM provisional tax payment date, the software calculated that Tussock Socks Ltd owed $500 in provisional tax to Inland Revenue and submitted the Statement of Activity showing this amount to be due. Instead of paying $500 to Inland Revenue, Tussock Socks Ltd only paid $100. Tussock Socks Ltd will be liable for UOMI and late payment penalty on the $400 underpayment until it is paid (or the liability is extinguished by a future instalment period). Example 5 Cameo Jewels Ltd is a small jewellery company using AIM to pay its provisional tax. It calculates its provisional tax payments using software, and makes the payments accordingly. At year-end the company meets with its accountant who discovers their depreciation was calculated incorrectly and a bad debt had not been written off, resulting in additional income tax due of $300. Cameo Jewels Ltd pays this amount of terminal tax and has no UOMI or shortfall penalty applied. As these errors are simple oversights it is likely Cameo Jewels Ltd has taken reasonable care in the calculation of its tax liability.