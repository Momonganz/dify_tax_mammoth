\[UNCLASSIFIED\] Inland Revenue File Upload Specification Portfolio Investment Entities (PIE) UNCLASSIFIED Date: 21 March 2022 Version: 1.3 PIE File Upload Specification V1.3 2 \[UNCLASSIFIED\] Contents 1 Introduction.......................................................................................................... 3 1.1 Document Purpose ............................................................................................. 3 1.2 Document Scope ................................................................................................ 3 1.3 PIE Reporting Legislation ..................................................................................... 3 1.4 PIE reporting date change for locked-in funds ........................................................ 4 2 Electronic Filing Requirements ............................................................................. 5 2.1 Network connectivity .......................................................................................... 5 2.2 Operating systems ............................................................................................. 5 2.3 Supported web browsers ..................................................................................... 5 2.4 Messages and validations in myIR ........................................................................ 5 2.5 Security ............................................................................................................ 5 3 File Upload Service ............................................................................................... 7 3.1 Overview ........................................................................................................... 7 4 CSV File Requirements ........................................................................................ 11 4.1 Introduction ...................................................................................................... 11 4.2 File Format ....................................................................................................... 11 4.3 File naming suggestions ..................................................................................... 11 4.4 File Extensions .................................................................................................. 11 4.5 Compression / Grouped files ............................................................................... 11 4.6 Data Errors Correction ....................................................................................... 12 4.7 PIE Periodic Return ............................................................................................ 13 4.8 Annual Reconciliation Return and Investor Certificates ........................................... 24 4.9 Amending Filed Returns ..................................................................................... 36 5 Appendix ............................................................................................................. 37 5.1 Inland Revenue (IRD) Number validation ............................................................. 37 5.2 Characters Allowed in the Name fields.................................................................. 40 5.3 Inland Revenue Website Terms and Conditions ..................................................... 41 5.4 Portfolio Investment Entity Monthly Return Filing Requirements Exemption .............. 42 5.5 Foreign Investment PIE Return Completion ........................................................... 43 5.6 Change Log ...................................................................................................... 45 PIE File Upload Specification V1.3 3 \[UNCLASSIFIED\] 1 Introduction 1.1 Document Purpose This document defines the functional specification for the PIE file upload service. Section 36AB of the Tax Administration Act 1994 (the “Taxation Act”) requires the Commissioner of Inland Revenue to prescribe one or more electronic formats in which a return required under section 57B of the Taxation Act must be furnished. 1.2 Document Scope This document outlines the file upload process and defines the functional requirements for the file upload service. The file upload service is separate from the Gateway Services ("GWS") channel and provides an alternative means for Portfolio Investment Entities (“PIE’s”) to file PIE Periodic Returns, Annual Reconciliation Return and Investor Certificates. Details of the GWS channel are defined in the GWS software developer kit which may be obtained from this IR webpage. A PIE's access to and use of the file upload service is governed by Inland Revenue's standard terms and conditions that apply to the use of Inland Revenue's Website and Online Services as follows: 1.2.1 Inland Revenue Website – Conditions of use for Inland Revenue websites and social media pages. These can be accessed via the following link: http://www.ird.govt.nz/about- this-site/conditions/ ("Standard Terms and Conditions") The PIE filer will be deemed to have agreed to the Standard Terms and Conditions (as modified by Inland Revenue and made available on its website from time to time) by accessing the file upload service. 1.3 PIE Reporting Legislation Legislation passed in March 2018 includes several provisions regarding the reporting of investment income information. The reporting changes are intended to give IR a better understanding of investment income and will enable tax and social policy to be administered more effectively. The Taxation (Annual Rates 2017-18 Employment and Investment Income and Remedial Matters) Act 2018 requires that payers of investment income must provide certain information to Inland Revenue (IR) on a regular basis and in an electronic format. Financial institutions, Māori Authorities, companies and individuals are required to provide investment income information under section 25E(1) of the Tax Administration Act (TAA) to IR if they: • pay interest from which tax is withheld • pay interest subject to an approved issuer levy (limited to domestically issued debt) • pay taxable dividends (including unit trusts) • make taxable Māori authority distributions to members • pay royalties to someone who isn’t a New Zealand resident • attribute income to investors in a multi-rate PIE • pay interest, which can be claimed as a tax deduction, but from which tax may not be required to be withheld • stop being a New Zealand resident for tax purposes and continue to exist (applies only to companies). The legislation also sets out additional information requirements applicable to the IR854 – Investor Certificates. These requirements are detailed in Section 4.8.4 and include: • an amended file layout, PIE File Upload Specification V1.3 4 \[UNCLASSIFIED\] • some changes to the information required such as the provision of information on any joint investors in a PIE, • a multi-rate PIE is required to report investment income information to Inland Revenue yearly by 15 May after the end of the tax year rather than 31 May. These reporting changes are mandatory as at 1 April 2020. Further Information: For further information on PIE reporting requirements and due dates for PIEs that attribute income, refer to this IR webpage: PIE Reporting Requirements 1.4 PIE reporting date change for locked-in funds The Taxation (Annual Rates for 2020–21, Feasibility Expenditure, and Remedial Matters) Bill requires that as at 1 April 2020 the due date for the Annual Reconciliation Return and all associated Investor Certificates for locked-in funds with a balance date between October and February is the 15 th of May each year rather than 30 June. PIE File Upload Specification V1.3 5 \[UNCLASSIFIED\] 2 Electronic Filing Requirements 2.1 Network connectivity Banks, investment providers and others, can connect to the internet through an ISP as per the current process. 2.2 Operating systems The myIR system is operating system independent. However, a supported browser is required. 2.3 Supported web browsers At the date of publication of this document, the following web browsers are supported for use with myIR: • Apple Safari • Google Chrome • Microsoft Edge • Microsoft Internet Explorer 11 or Newer • Mozilla Firefox 2.4 Messages and validations in myIR Transferred files are validated by myIR and the customer informed of any errors. This validation is designed to provide instant turnaround, ensuring customers are provided with an immediate response of any errors. File validation rules include • file format • mandatory (required) data fields • data fields formats e.g. numeric, alpha numeric • data fields maximum lengths Note this is not the definitive list of all validations – these are noted in each file specification and in the Appendix. Error messages and warning messages will be displayed onscreen. More details are provided in the following section 2.4.1. 2.4.1 Error and Warning messages There are a number of error messages that can be received when transferring files to us. The messages will display clear details of the error or issue that has been found. There are two levels of messages in myIR: 1. Error messages that will stop the file upload – e.g. invalid payee IRD number 2. Warning messages that will not stop the file upload – e.g. totals do not match the individual return lines 2.5 Security The Inland Revenue myIR facility is a secure service involving authentication of users via a user-id and password. Knowledge of the password is assumed to guarantee that the user is authentic. Each user registers initially (or is registered by someone else), using an assigned or self-declared password. On each subsequent use, the user must know and use the previously declared password. PIE File Upload Specification V1.3 6 \[UNCLASSIFIED\] The PIE or any person or persons registered to file PIE Periodic Returns, Annual Reconciliation Returns and Investor Certificates, are responsible for ensuring that their user- id, password and other registration details are kept secure. These details should not be disclosed, even to Inland Revenue staff. Further details can be found via the website link in Appendix 5.3: IR Website Terms and Conditions. PIE File Upload Specification V1.3 7 \[UNCLASSIFIED\] 3 File Upload Service 3.1 Overview The file upload service in myIR enables the PIE filer to upload PIE Periodic Returns, Annual Reconciliation Returns and Investor Certificates to Inland Revenue over the internet. To access this service, the payer must: • have a myIR account, • be registered for the tax type they wish to upload a file for (i.e. PIE), and • have access rights to file for the tax type. If the above pre-conditions are met, the payer may complete a file upload by utilising one of the following options: 3.1.1 File Upload – file a return option Under this option, the IR853 is auto generated when IR854 certificates are uploaded. 1. access the myIR Home for the PIE fund, 2. go to - Portfolio investment entity panel, 3. select the Returns and transaction hyperlink, 4. click on the grey return link, 5. select File now for the PIE annual reconciliation return, 6. at data entry method select Upload file, 7. Upload the file: 8. If file passes validation, click on Next, 9. The IR853 auto populates (Note: ensure the Total number of certificates is correct – change if not), click on Next, 10. Review the IR853 – if correct, click the Declaration box and select Submit. PIE File Upload Specification V1.3 8 \[UNCLASSIFIED\] 3.1.2 PIE file transfer service option Under this option, the IR853 must be filed separately. 1. go to Portfolio investment entity panel, 2. select More, 3. select the option to ‘Use PIE file transfer service’ in the Payments, refund and return section, 4. choose a file to upload as per the below screenshot: Note: Under both the ‘file a return’ and ‘PIE file transfer’ options, the PIE IRD number in the uploaded file must match the IRD number of the account being filed for. 3.1.3 Upload bulk PIE file option Alternatively, an entity that has registered for the bulk PIE file option (available on request to Inland Revenue), may choose to navigate to the ‘Upload bulk PIE file’ option by selecting the ‘I want to’ grey hyperlink on the landing page at the customer level: PIE File Upload Specification V1.3 9 \[UNCLASSIFIED\] This button takes the payer to a larger menu of actions, one of which is the bulk PIE file upload option: Under this option, the payer may select to upload PIE return files at a customer level (rather than at an account level), and in this case the file may contain different PIE IRD numbers. Regardless of which PIE file upload option is used, the file selected must be a csv file and must pass the validation rules as detailed in sections 4.7 and 4.8. If no data validation or formatting errors are detected, the following message will display: The payer will then be able to submit the file(s) for uploading by selecting the ‘Submit’ button. PIE File Upload Specification V1.3 10 \[UNCLASSIFIED\] Otherwise, if there are errors present, these will be detailed in error messages, and the payer will need to correct the errors before re-selecting the file for uploading. Below is an example of some error messages that would need to be fixed before the file can be uploaded: The payer may also choose to export the errors into an Excel file to assist with the error resolution process. This may be done by selecting the ‘Export’ button. PIE File Upload Specification V1.3 11 \[UNCLASSIFIED\] 4 CSV File Requirements 4.1 Introduction This section sets out the data and format requirements of the files that the PIE filer will send to Inland Revenue using the file upload service. There are three files: • PIE Periodic Return (IR852) • Annual Reconciliation Return (IR853) • Investor Certificates (IR854) The PIE Periodic Return file is required to be filed either monthly, quarterly or annually. Further details are set out in section 4.7. The Annual Reconciliation Return and Investor Certificates can be filed in accordance with section 57B of the Taxation Act. Further details are set out in section 4.8. 4.2 File Format The file format for all myIR file transfer services is ASCII comma delimited format (csv file format). 4.3 File naming suggestions There is no standard file naming required. However, for easier identification we suggest the following: • A unique, period-based name. • Inclusion of the type of return to differentiate it from other returns, which may be required to be filed electronically in the future. • A CSV extension to indicate the file type. 4.4 File Extensions The file extension shall be three letters preceded by a full point or period. Valid extensions .txt or .csv are acceptable for a single file. Refer to the next section for acceptable file extensions where multiple files are compressed or grouped. 4.5 Compression / Grouped files File compression using the zip compression algorithm is acceptable, provided that the following rules are adhered to: • The content of any zip file must consist only of uncompressed files, i.e. a compressed file should not be included within any other zip file. The ‘nested’ zip file will be rejected as a file in error. • A zip file must be a single file only. In other words, a multi-part zip file (usually created to span removable media) will be rejected, as the decompression application will fail when trying to process a part file as a whole file. The following common file extensions shall be acceptable for compressed or grouped files: • .ZIP • .TAR • .GZIP PIE File Upload Specification V1.3 12 \[UNCLASSIFIED\] Zip files or uncompressed smaller files may contain a mixture of IR852, IR853 and IR854 records, all of which may not necessarily belong to the same period. Example 1 Single file PIEReturns-20200405-002.csv is a file which contains IR852 return where 20200405 is the date when the file would have been sent with a sequence number of 002. Example 2 Grouped files Example: PIEReturns-20200403-01.zip is a zipped file which contains the following files: PIEReturns-20200403-001.csv PIEReturns-20200403-002.csv PIEReturns-20200403-003.csv PIEReturns-20200403-004.csv The date the file was sent to IR Systems would have been 20200403 with a batch number of 01. 4.6 Data Errors Correction Correction of data errors reported by the file upload service is the responsibility of the PIE filers. However, the file upload service will include specific and directive error messages to enable the PIE filers to quickly identify and correct erroneous data. Only files with no reported errors are transferred. Errors uncovered during the upload process will be displayed on the file upload screen with sufficient details to help the PIE filer identify the error and correct the data. The number of errors which will be displayed is limited to 250, hence when the limit is reached, succeeding errors will not be shown. All data errors must be corrected before making further attempts to upload the file. The file upload service can only accept a single file per transmission. This limitation, however, may be circumvented by using file compression or “zipping” a number of files into a single file. Please refer to the previous section 4.5 for the rules regarding compressed or zip files. In the case of grouped files, each file (.csv or .txt) will be validated and errors encountered will be listed under each file name. It must be emphasized at this point that although it is possible to zip or compress files with same file name, this should be avoided as it may cause problems in identifying the file/s in error. PIE File Upload Specification V1.3 13 \[UNCLASSIFIED\] 4.7 PIE Periodic Return 4.7.1 File Details This section defines the elements and layout of the PIE Periodic Return (IR852). A single file can contain one or many PIE Periodic Return records. For more detail on the IR852 field elements refer to the Returns section of the PIE guide which can be found on the IR website at this link: IR860 PIE guide. Note: Refer to information contained in Appendix 5.5 for guidance on which version to use. Version Number 0003: Position Element Field Type Field Size Sign Value Validation 1 PIE Return type String 5 N/A IR852 Required 2 Version Number String 4 5 0003 Required For returns with period end dates AFTER 31 March 2010 value is 0003 3 PIE Name String 74 N/A Any name with no embedded commas or special characters Required No embedded commas or special characters – Refer to Appendix 5.2 4 IR Number Integer 8 to 9 None Any set of eight or nine integers except all zeros. Required, Must be greater than zeros, Modulus 11 check digit – Refer to Appendix 5.1 5 Period End Date Date 8 None Any valid period end date Required Format CCYYMMDD 6 Total investment asset value Decimal 14/2 None 0.00 to 99999999999.99 Required PIE File Upload Specification V1.3 14 \[UNCLASSIFIED\] Position Element Field Type Field Size Sign Value Validation 7 Gross Income Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 8 Deductible Expenses Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 9 Net Income/Loss Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 10 Net Land Class Income/Loss Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 11 Combined Income/Loss Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 12 Formation Loss Used Decimal 14/2 None 0.00 to 99999999999.99 Required 13 Land Class Loss Brought Forward Decimal 14/2 None 0.00 to 99999999999.99 Required 14 Land Class Loss amount to Carry Forward Decimal 14/2 None 0.00 to 99999999999.99 Required 15 Land Class Loss claimed Decimal 14/2 None 0.00 to 99999999999.99 Required 16 Taxable Income Decimal 14/2 None 0.00 to 99999999999.99 Required 17 Taxable Loss Decimal 14/2 None 0.00 to 99999999999.99 Required 18 Income/Loss not attributed Taxed @ Top PIR Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 19 Income/Loss of Exited Zero-rate Investors Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required PIE File Upload Specification V1.3 15 \[UNCLASSIFIED\] Position Element Field Type Field Size Sign Value Validation 20 Investor expenses less credits for fees Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 21 Total Income To Attribute Decimal 14/2 None 0.00 to 99999999999.99 Required 22 Total Loss To Attribute Decimal 14/2 None 0.00 to 99999999999.99 Required 23 Income Attributed to 0% PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 24 Loss Attributed to 0% PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 25 Income Attributed to Low PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 26 Loss Attributed to Low PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 27 Income Attributed to Mid PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 28 Loss Attributed to Mid PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 29 Income Attributed to Top PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 30 Loss Attributed to Top PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 31 Tax Liability/Credit Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 32 Zero-rated Exited Investor’s Tax payment for Exit Period Decimal 14/2 None 0.00 to 99999999999.99 Required PIE File Upload Specification V1.3 16 \[UNCLASSIFIED\] Position Element Field Type Field Size Sign Value Validation 33 Net Tax Liability/Credit Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 34 Foreign Tax Credit Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 35 Other Tax Credits Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 36 Imputation Credit Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 37 Resident Withholding Tax Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required PIE File Upload Specification V1.3 17 \[UNCLASSIFIED\] Version Number 0004 (Required for Variable-rate PIEs): Position Element Field Type Field Size Sign Value Validation 1 PIE Return type String 5 N/A IR852 Required, 2 Version Number String 4 5 0004 AFTER 1 April 2012 value is 0004 for variable-rate PIEs 3 PIE Name String 74 N/A Any name with no embedded commas or special characters Required, No embedded commas or special characters – Refer to Appendix 5.2. 4 IR Number Integer 8 to 9 None Any set of eight or nine integers except all zeros. Required, Must be greater than zeros, Modulus 11 check digit – Refer to Appendix 5.1 5 Period End Date Date 8 None Any valid period end date Required Format CCYYMMDD 6 Total investment asset value Decimal 14/2 None 0.00 to 99999999999.99 Required 7 Gross Income Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 8 Deductible Expenses Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 9 Net Income/Loss Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 10 Net Land Class Income/Loss Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 11 Combined Income/Loss Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required PIE File Upload Specification V1.3 18 \[UNCLASSIFIED\] Position Element Field Type Field Size Sign Value Validation 12 Formation Loss Used Decimal 14/2 None 0.00 to 99999999999.99 Required 13 Land Class Loss Brought Forward Decimal 14/2 None 0.00 to 99999999999.99 Required 14 Land Class Loss amount to Carry Forward Decimal 14/2 None 0.00 to 99999999999.99 Required 15 Land Class Loss claimed Decimal 14/2 None 0.00 to 99999999999.99 Required 16 Total Income Decimal 14/2 None 0.00 to 99999999999.99 Required 17 Total Loss Decimal 14/2 None 0.00 to 99999999999.99 Required 18 Income/Loss not attributed Taxed @ Top PIR Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 19 Income/Loss of Exited Zero-rate Investors Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 20 Investor expenses less credits for fees Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 21 Total Income To Attribute Decimal 14/2 None 0.00 to 99999999999.99 Required 22 Total Loss To Attribute Decimal 14/2 None 0.00 to 99999999999.99 Required 23 Income Attributed to 0% PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 24 Loss Attributed to 0% PIR Decimal 14/2 None 0.00 to 99999999999.99 Required PIE File Upload Specification V1.3 19 \[UNCLASSIFIED\] Position Element Field Type Field Size Sign Value Validation 25 Income Attributed to low PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 26 Loss Attributed to low PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 27 Income Attributed to mid PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 28 Loss Attributed to Mid PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 29 Income Attributed to Top PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 30 Loss Attributed to Top PIR Decimal 14/2 None 0.00 to 99999999999.99 Required 31 Tax Liability/Credit Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 32 Zero-rated Exited Investor’s Tax payment for Exit Period Decimal 14/2 None 0.00 to 99999999999.99 Required 33 Net Tax Liability/Credit Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 34 Foreign Tax Credit Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 35 Other Tax Credits Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 36 Imputation Credit Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 37 Resident Withholding Tax Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required PIE File Upload Specification V1.3 20 \[UNCLASSIFIED\] Position Element Field Type Field Size Sign Value Validation 38 Income Attributed to NFI Decimal 15/2 Negative. None -99999999999.99 to 99999999999.99 Required 39 Tax paid on NFI Income Decimal 15/2 Negative, None -99999999999.99 to 99999999999.99 Required Version 0003 1 April 2010 onwards Version 0003 1 October 2010 onwards Version 0004 1 April 2012 onwards Low PIR 12.5% 10.5% 10.5% Mid PIR 21% 17.5% 17.5% Top PIR 30% 28% 28% NFI 0%, 1.44%, 15%, 28%, 30% PIE File Upload Specification V1.3 21 \[UNCLASSIFIED\] 4.7.2 File Format Examples Examples of the format and layout of the PIE Periodic Return file, for both single returns and files containing many PIE Periodic Returns are provided below. Note: Each line should be continuous and end with a carriage return (CR) or line feed (LF) character. These examples are illustrative only and not to be copied. Refer to the Sample files folder on the IR GitHub for file examples in csv format. Each record (line) is a separate PIE Periodic Return. File Name: PIE Prd return single PIE-20220331-001.csv (one file, single IR852 return) IR852,0003,PIE A,010000289,20220331,15000000.00,40300.00,12040.00,28260.00,0.00,28260.00,0.00,0.00,0.00,0.00,29250.00,990.00,0.00,0.00,0.00,0.00, 830.00,28430.00,1000.00,25000.00,0.00,735.00,500.00,2695.00,500.00,295.18,0.00,0.00,-150.00,0.00,-250.00,-75.00 File Name: PIE Prd return single PIE-20220331-001.csv (one file, single IR852 return) IR852,0004,PIE A,010000289,20220331,15000000.00,40300.00,12040.00,28360.00,0.00,28360.00,0.00,0.00,0.00,0.00,29350.00,990.00,0.00,0.00,0.00, 0.00,830.00,28530.00,1000.00,25000.00,0.00 ,735.00,500.00,2695.00,500.00,296.62,0.00,0.00,-150.00,0.00,-250.00,-75.00,100.00,1.44 PIE File Upload Specification V1.3 22 \[UNCLASSIFIED\] Note: An entity cannot file a multiple PIE IR852 return if it is only registered for to file for PIE under its own name and does not have the authority to file for other PIE entities. I.e. An entity must be registered to file for different PIE IRD numbers other than the IRD number they are filing under. File Name: PIE Prd return multiple PIEs-20220331-002.csv (one file, multiple PIEs) IR852,0003,PIE A,010000289,20220331,1.99,-2.99,0.00,-2.99,0.00,2.99,1.99,0.00,1.99,1.99,0.00,1.99,1.99,2.99,-2.99,1.99,0.00,1.99,0.00,1.99,0.00,0.00,0.00, 2.99,1.99,2.99,0.00,1.99,1.99,0.00,1.99,1.99 IR852,0003,PIE B,010000793,20220331,1.99,0.00,0.00,-2.99,0.00,2.99,1.99,0.00,0.00,0.00,1.99,1.99,1.99,0.00,2.99,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00, 1.99,1.99,-2.99,1.99,2.99,1.99,0.00,1.99,1.99 IR852,0003,PIE C,010000769,20220331,1.99,-2.99,0.00,-2.99,0.00,2.99,1.99,0.00,0.00,1.99,0.00,1.99,1.99,-2.99,0.00,0.00,0.00,1.99,1.99,1.99,1.99,1.99,1.99, 1.99,0.00,-2.99,1.99,2.99,0.00,1.99,1.99,0.00 IR852,0003,PIE DDDDDDDDDDddddddddddDDDDDDDDDDddddddddddDDDDDDDDDDddddddddddDDDDDDDDDD,010000702,20220331,11111111111.99, 22222222222.99,0.00,22222222222.99,0.00,-22222222222.99,11111111111.99,0.00,0.00,0.00,11111111111.99,0.00,11111111111.99,0.00,11111111111.99, 22222222222.99,22222222222.99,11111111111.99,0.00,0.00,0.00,11111111111.99,11111111111.99,11111111111.99,0.00,22222222222.99,11111111111.99,0.00, 11111111111.99,0.00,0.00,11111111111.99 IR852,0003,PIE E,010000661,20220331,1.99,-2.99,1.99,-2.99,0.00,2.99,1.99,1.99,1.99,1.99,1.99,0.00,0.00,1.99,1.99,2.99,2.99,1.99,1.99,1.99,1.99,1.99,1.99, 1.99,1.99,2.99,1.99,2.99,1.99,1.99,1.99,1.99 IR852,0003,PIE F,010000165,20220331,1.99,-2.99,1.99,-2.99,0.00,2.99,1.99,1.99,1.99,1.99,1.99,1.99,0.00,0.00,1.99,2.99,2.99,1.99,1.99,1.99,1.99,1.99,1.99, 1.99,1.99,2.99,1.99,2.99,1.99,1.99,1.99,1.99 IR852,0003,PIE G,010000378,20220331,1.99,-2.99,1.99,-2.99,0.00,2.99,1.99,1.99,1.99,1.99,1.99,1.99,0.00,0.00,1.99,2.99,2.99,1.99,1.99,1.99,1.99,1.99,1.99, 1.99,1.99,2.99,1.99,2.99,1.99,1.99,1.99,1.99 PIE File Upload Specification V1.3 23 \[UNCLASSIFIED\] File Name: PIE Prd return multiple PIEs-20220331-002.csv (one file, multiple PIEs) IR852,0004,PIE A,010000289,20220331,1.99,-2.99,0.00,-2.99,0.00,2.99,1.99,0.00,1.99,1.99,0.00,1.99,1.99,2.99,-2.99,1.99,0.00,1.99,0.00,1.99,0.00,0.00,0.00, 1.99,1.99,-2.99,1.99,2.99,0.00,1.99,1.99,0.00,100.00,1.44 IR852,0004,PIE B,010000793,20220331,1.99,0.00,0.00,2.99,0.00,2.99,1.99,0.00,0.00,0.00,1.99,1.99,1.99,0.00,2.99,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00, 1.99,1.99,-2.99,1.99,2.99,1.99,0.00,1.99,1.99,100.00,1.44 IR852,0004,PIE C,010000769,20220331,1.99,-2.99,0.00,-2.99,0.00,2.99,1.99,0.00,0.00,1.99,0.00,1.99,1.99,2.99,0.00,0.00,0.00,1.99,1.99,1.99,1.99,1.99,1.99, 1.99,0.00,-2.99,1.99,2.99,0.00,1.99,1.99,0.00,100.00,1.44 IR852,0004,PIE D,010000702,20220331,1.99,-2.99,0.00,2.99,0.00,-2.99,1.99,0.00,0.00,0.00,1.99,0.00,1.99,0.00,1.99,2.99,2.99,1.99,0.00,0.00,0.00,1.99,1.99, 1.99,0.00,-2.99,1.99,0.00,1.99,0.00,0.00,1.99,100.00,1.44 IR852,0004,PIE E,010000661,20220331,1.99,-2.99,1.99,-2.99,0.00,2.99,1.99,1.99,1.99,1.99,1.99,0.00,0.00,1.99,1.99,2.99,2.99,1.99,1.99,1.99,1.99,1.99,1.99, 1.99,1.99,2.99,1.99,2.99,1.99,1.99,1.99,1.99,100.00,1.44 IR852,0004,PIE F,010000165,20220331,1.99,-2.99,1.99,-2.99,0.00,2.99,1.99,1.99,1.99,1.99,1.99,1.99,0.00,0.00,1.99,2.99,2.99,1.99,1.99,1.99,1.99,1.99,1.99, 1.99,1.99,2.99,1.99,2.99,1.99,1.99,1.99,1.99,100.00,1.44 IR852,0004,PIE G,010000378,20220331,1.99,-2.99,1.99,-2.99,0.00,2.99,1.99,1.99,1.99,1.99,1.99,1.99,0.00,0.00,1.99,2.99,2.99,1.99,1.99,1.99,1.99,1.99,1.99, 1.99,1.99,2.99,1.99,2.99,1.99,1.99,1.99,1.99,100.00,1.44 PIE File Upload Specification V1.3 24 \[UNCLASSIFIED\] 4.8 Annual Reconciliation Return and Investor Certificates 4.8.1 File Details This section defines the elements and layout of the Annual Reconciliation Return (IR853). A single file can contain one or many Annual Reconciliation Return records. The due dates for the Annual Reconciliation Return and all associated Investor Certificates are: • For non-locked in and locked-in funds with a balance date between October and February, this information must be provided by the 15th of May each year. • For funds with a balance date between April and September, this information must be provided to us by the end of the second month after year end. • If a PIE ceases, this information must be provided to us by the end of third month after the PIE is wound up. 4.8.2 Annual Reconciliation Return For more detail on the IR853 field elements refer to the Returns section of the PIE guide which can be found on the IR website at this link: IR860 PIE guide. Note: Refer to information contained in Appendix 5.5 for guidance on which version to use. Version Number 0003: Position Element Field Type Field Size Sign Value Validation 1 PIE Return type String 5 N/A IR853 Required 2 Version Number String 4 N/A 0003 Required For returns with period end dates AFTER 31 March 2010 value is 0003 3 PIE Name String 74 N/A Any name with no embedded commas or special characters Required, No embedded commas or special characters – Refer to Appendix 5.2. PIE File Upload Specification V1.3 25 \[UNCLASSIFIED\] Position Element Field Type Field Size Sign Value Validation 4 IR Number Integer 8 to 9 None Any set of integers except all zeros. If IRD number is 8 integers precede with zero Required, Must not be all zeros, Modulus 11 check-digit – Refer to Appendix 5.1 Update of size requirement 5 Period End Date Date 8 N/A 31 March of any year from 2008 onwards Required Format CCYY0331 6 Total Number of Certificates Integer 8 None 1 to 99999999 Required, Greater than zero 7 Taxable Income/Loss Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 8 Total Tax Credits used for low, mid and top PIR Investors Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 9 PIE Tax Paid / Credited on Investor’s Income for low, mid and top PIR Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 10 Taxable Income/Loss Taxed at low and/or mid rate(s) Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 11 PIE Tax Paid / Credited on Investor’s Income at low and/or mid rate(s) Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required PIE File Upload Specification V1.3 26 \[UNCLASSIFIED\] Position Element Field Type Field Size Sign Value Validation 12 Total Tax Credits on Investor’s income low and/or mid rate(s) Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 13 Zero-rated Exited Investor Taxable Income / Loss Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 14 Total Zero-rated Attributed Foreign Tax Credits Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 15 Total Zero-rated Attributed Other/MAC Tax Credits Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 16 Total Zero-rated Attributed IC Tax Credits Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 17 Total Zero-rated Attributed RWT Tax Credits Decimal 15/2 Nega tive or None -99999999999.99 to 99999999999.99 Required 18 Zero-rated Exited Investor’s Tax Payment for Exit Period Decimal 14/2 None 0.00 to 99999999999.99 Required PIE File Upload Specification V1.3 27 \[UNCLASSIFIED\] For Version Number 0004: Position Element Field Type Field Size Sign Value Validation 1 PIE Return type String 5 N/A IR853 Required 2 Version Number String 4 N/A 0004 Required For returns with period end dates AFTER 29 August 2011 3 PIE Name String 74 N/A Any name with no embedded commas or special characters Required, No embedded commas or special characters – Refer to Appendix 5.2. 4 IR Number Integer 8 to 9 None Any set of integers except all zeros. If IRD number is 8 integers precede with zero Required, Must not be all zeros, Modulus 11 check-digit Update of size requirement Validation rules are outlined in Appendix 5.1. 5 Period End Date Date 8 N/A 31 March of any year from 2008 onwards Required Format CCYY0331 6 Total Number of Certificates Integer 8 None 1 to 99999999 Required, Greater than zero 7 Total Income/Loss Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 8 Total Tax Credits used Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 9 PIE Tax Paid / Credited Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 10 Taxable Income/Loss Taxed at Low and/or Mid rate(s) (Refer to the Returns section of the IR860 guide for more detail). Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required PIE File Upload Specification V1.3 28 \[UNCLASSIFIED\] Position Element Field Type Field Size Sign Value Validation 11 PIE Tax Paid / Credited on Investor’s Income at Low and/or Mid rate(s) (Refer to the Returns section of the IR860 guide for more detail). Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 12 Total Tax Credits on Investor’s income Low and/or Mid rate(s) (Refer to the Returns section of the IR860 guide for more detail). Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 13 Zero-rated Exited Investor Taxable Income / Loss Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 14 Total Zero-rated Attributed Foreign Tax Credits Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 15 Total Zero-rated Attributed Other/MAC Tax Credits Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 16 Total Zero-rated Attributed IC Tax Credits Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 17 Total Zero-rated Attributed RWT Tax Credits Decimal 15/2 Negative or None -99999999999.99 to 99999999999.99 Required 18 Zero-rated Exited Investor’s Tax Payment for Exit Period Decimal 14/2 None 0.00 to 99999999999.99 Required Version 0003 1 April 2010 – 30 Sept 2010 Version 0003 1 October 2010 onwards Version 0004 31 March 2012 onwards Low PIR 12.5% 10.5% 10.5% Mid PIR 21% 17.5% 17.5% Top PIR 30% 28% 28% PIE File Upload Specification V1.3 29 \[UNCLASSIFIED\] 4.8.3 Investor Certificate Note: For the Investor Certificates (IR854), the csv file must contain additional lines of information on any joint account holder(s) for each PIE record. This means that each Primary record line (identified by the code ‘PIEC’) holds the Parent (or primary) individual customer details such as name, address and the financial details of the PIE. If the PIE is a joint account, Child record lines (identified by the code ‘PIEJ’) will contain the Joint account owner details (if held by the payer). Each child record must directly follow their Parent record. Every customer record will include a Parent (or primary) record but may or may not include one or more Child records. E.g. For a jointly held investment in the names of A&B, the file will include 2 lines of information for that investment – one parent record and one child record. If the investment is in 3 names, then the file will include 3 lines, one parent record and 2 child records. For more detail on the IR854 field elements refer to the Returns section of the PIE guide which can be found on the IR website at this link: IR860 PIE guide. Position Element Field Type Field size Required/ Optional Validation Default values/notes 1 Detail record indicator Parent String 4 Required This must have a value of PIEC to indicate Parent investor details record. 2 PIE Return Type String 6 Required PIE Return Type must have a value of IR854 IR854 3 Version Number String 4 Required For periods from 1 April 2020, version 0005 will always need to be used. 0005 4 PIE Name String 74 Required Invalid characters cannot be used: \[ , \] , \\ , ~ Must not include embedded commas or special characters. 5 PIE IR Number Integer 9 Required IRD number must have a length of 8 or 9 digits excluding spaces and be valid. Must not be all zeros. Validated by Modulus 11 check-digit. If field is populated with 8 characters, precede with a zero. Validation rules are outlined in Appendix 5. 6 Period End Date Date 8 Required Must be 31 March of the financial year being reported. The last day of the financial year being reported. Format: CCYY0331 E.g. 20210331 7 Investor’s Name String 74 Required Invalid characters cannot be used: \[ , \] , \\ , ~ Must not include embedded commas or special characters. PIE File Upload Specification V1.3 30 \[UNCLASSIFIED\] Position Element Field Type Field size Required/ Optional Validation Default values/notes 8 Investor’s IR Number Integer 9 Optional\* IRD number must have a length of 8 or 9 digits excluding spaces and be valid. \*Required if held by the payer. Validated by Modulus 11 check-digit. If field is populated with 8 characters, precede with a zero. If invalid or not held, then revert to 000000000. Validation rules are outlined in Appendix 5. 9 Investor Certificate Identifier String 20 Required Invalid characters cannot be used: \[ , \] , \\ , ~ This is an identifier assigned by the PIE to each certificate of an investor. Note that this will be displayed to the customer, so it should be something which the customer understands. Must not include embedded commas or special characters. 10 Prescribed Investor Rate (PIR) as at Year-end Decimal 11/2 Required Prescribed investor rate (PIR) at year end should be 0.00, 10.50, 17.50 or 28.00 The latest PIR used in a tax calculation requiring a tax payment or credit for the tax year. Current accepted rates are 0.00, 10.50, 17.50, 28.00, NFI DTA country 90.00, NFI non-DTA country 99.99. 11 Was PIR changed during the year? String 1 Required Y or N This field must have a value of Y or N. The value should be yes (Y) if the investor’s PIR changed during the tax year, where used in a final tax calculation. 12 Total Income/Loss Decimal 15/2 Required This field may be positive or negative. 13 Total Tax Credits used Decimal 15/2 Required Total of all various tax credits used for an investor who had a low, mid and/or top PIR used in a final tax calculation. This field may be positive or negative. 14 PIE Tax Paid / Credited Decimal 15/2 Required This field may be positive or negative. PIE File Upload Specification V1.3 31 \[UNCLASSIFIED\] Position Element Field Type Field size Required/ Optional Validation Default values/notes 15 Taxable Income/Loss Taxed at Low and/or Mid rate(s) Decimal 15/2 Required This field may be positive or negative. Please refer to IR860 PIE guide for more detail. 16 PIE Tax Paid / Credited on Investor’s Income/Loss at Low and/or Mid rate(s) Decimal 15/2 Required This field may be positive or negative. Please refer to IR860 PIE guide for more detail. 17 Total Tax Credits for investor on Low and/or Mid rate(s) Decimal 15/2 Required Total of the various tax credits attributed in the attribution periods for the investor, who had tax calculated during the year at two or more of the low and/or mid PIR(s) in a final tax calculation. Please refer to IR860 PIE guide for more detail. This field may be positive or negative. 18 Zero-rated & Exited Investor Taxable Income / Loss Decimal 15/2 Required Taxable income or loss for investors that have had zero and any other rate applied during the year. This field may be positive or negative. 19 Total Zero-rated Attributed Foreign Tax Credits Decimal 15/2 Required This field may be positive or negative. 20 Total Zero-rated Attributed Other/MAC Tax Credits Decimal 15/2 Required This field may be positive or negative. 21 Total Zero-rated Attributed IC Tax Credits Decimal 15/2 Required This field may be positive or negative. 22 Total Zero-rated Attributed RWT Tax Credits Decimal 15/2 Required This field may be positive or negative. 23 Zero-rated Exited Investor’s Tax payment for Exit Period Decimal 14/2 Required PIE File Upload Specification V1.3 32 \[UNCLASSIFIED\] Position Element Field Type Field size Required/ Optional Validation Default values/notes 24 Investor’s date of birth Date 8 Optional\* \*Required if held. Date of birth of investor. Format: CCYYMMDD 25 Investor's contact address String 255 Required Invalid characters cannot be used: \[ , \] , \\ , ~ Contact address of investor. Address is to be concatenated into one line. Must not include commas. 26 Country code String 2 Required Country code must be valid. Invalid characters cannot be used: \[ , \] , \\ , ~ Country of residence code AA to ZZ following the ISO 3166-2 requirements or default to NZ. 27 Email Address String 255 Optional\* Must be a valid email address. Invalid characters cannot be used: \[ , \] , \\ , ~ \*Email address of liable income Recipient if held. Must pass HTML address validation. 28 Phone Number Integer 30 Optional\* Invalid characters cannot be used: \[ , \] , \\ , ~ \*Phone Number of liable income Recipient if held. 29 Home country tax file number String 20 Required Enter 0 if not applicable. Invalid characters cannot be used: \[ , \] , \\ , ~ Default is 0 Must not include embedded commas or special characters. Where a declaration is held, enter Declaration in this field. 30 Units held at Y/E Decimal 15/2 Required Cannot be less than zero. 0.00 to 99999999999.99 Default is 0.00 Joint/Child line 1 Detail record indicator Child String 4 Required Preceding line must be a PIEC line. This must have a value of PIEJ to indicate Child investor details record. 2 Joint investor’s Name String 74 Optional\* Invalid characters cannot be used: \[ , \] , \\ , ~ \*Required if held by the payer. Must not include embedded commas or special characters. PIE File Upload Specification V1.3 33 \[UNCLASSIFIED\] Position Element Field Type Field size Required/ Optional Validation Default values/notes 3 Joint investor’s IR Number Integer 9 Optional\* IRD number must have a length of 8 or 9 digits excluding spaces and be valid. \*Required if held by the payer. Validated by Modulus 11 check-digit. If field is populated with 8 characters, precede with a zero. If invalid or not held, then revert to 000000000. Validation rules are outlined in Appendix 5. 4 Joint investor’s date of birth Date 8 Optional\* \*Required if held by the payer. Date of birth of joint investor if held. Format CCYYMMDD 5 Joint investor's contact address String 255 Optional\* Invalid characters cannot be used: \[ , \] , \\ , ~ \*Required if held by the payer. Contact address of joint investor. Must not include commas. 6 Joint investor's Country Code String 2 Required Country code must be valid. Invalid characters cannot be used: \[ , \] , \\ , ~ Country of residence code AA to ZZ following the ISO 3166-2 requirements or default to NZ. 7 Joint investor's Email Address String 255 Optional\* Must be a valid email address. Invalid characters cannot be used: \[ , \] , \\ , ~ \*Required if held by the payer. Email address of joint investor. Must pass HTML address validation. 8 Joint investor's Phone Number Integer 30 Optional\* Invalid characters cannot be used: \[ , \] , \\ , ~ \*Required if held by the payer. Phone number of joint investor. PIE File Upload Specification V1.3 34 \[UNCLASSIFIED\] 4.8.4 File Format Examples The following shows examples of the format and layout of the Annual Reconciliation Return file, for both a single return and a file containing many Annual Reconciliation Returns. Each record (line) shall be a separate Annual Reconciliation Return. Note: Each line should be continuous and end with a carriage return (CR) or line feed (LF) character. These examples are illustrative only and not to be copied. Refer to the Sample files folder on the IR GitHub for file examples in csv format. File Name: PIE AR return single PIE-20220331-005.csv (One file, single IR853 return) IR853,0004,PIE A,010000289,20220331,6,27430.00,475.00,295.18,100.00,4.50,15.00,0.00,-450.00,10.00,-250.00,-1500.00,0.00 File Name: PIE AR return multiple PIEs-20220331-002.csv (One file, multiple IR853 returns, multiple PIEs) IR853,0004,PIE A,010000289,20220331,6,27430.00,475.00,295.18,100.00,4.50,15.00,0.00,-450.00,10.00,-250.00,-1500.00,0.00 IR853,0004,PIE B,010000793,20220331,99999999,-2.99,1.99,-2.99,2.99,-2.99,1.99,2.99,1.99,1.99,1.99,1.99,1.99 IR853,0004,PIE C,010000769,20220331,99999999,-2.99,1.99,-2.99,2.99,-2.99,1.99,2.99,1.99,1.99,1.99,1.99,1.99 IR853,0004,PIE D,010000702,20220331,99999999,-2.99,1.99,-2.99,2.99,-2.99,1.99,2.99,1.99,1.99,1.99,1.99,1.99 IR853,0004,PIE E,010000661,20220331,99999999,-2.99,1.99,-2.99,2.99,-2.99,1.99,2.99,1.99,1.99,1.99,1.99,1.99 IR853,0004,PIE F,010000165,20220331,99999999,-2.99,1.99,-2.99,2.99,-2.99,1.99,2.99,1.99,1.99,1.99,1.99,1.99 IR853,0004,PIE G,010000378,20220331,99999999,-2.99,1.99,-2.99,2.99,-2.99,1.99,2.99,1.99,1.99,1.99,1.99,1.99 IR853,0004,PIE H,010000459,20220331,99999999,-2.99,1.99,-2.99,2.99,-2.99,1.99,2.99,1.99,1.99,1.99,1.99,1.99 File Name: PIE IC return single PIE-20220331-001.csv (One file, multiple IR854 investor certificates) PIEC,IR854,0005,PIE A,132132704,20220331,Mr. Investor A,010000793,12300001-CXD,28.00,Y,980.00,175.00,148.40,100.00,4.50,15.00,0.00,0.00,0.00,0.00,0.00, 0.00,19750815,20 Test Street Testville,NZ,investorA@gmail.com,,0,562762.25 PIEJ,Miss Investor A,132132704,19840321,20 Test Street Testville,NZ,investorjoint@gmail.com, PIEC,IR854,0005,PIE A,132132704,20220331,Mrs. Investor XYZ,010000768,13412301-CXG,17.50,N,735.00,125.00,18.33,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00, 0.00,19870722,12 Bee Street Tauranga,NZ,,,0,80000.00 PIEC,IR854,0005,PIE A,132132704,20220331,Dr. Investor B,010000702,75600001-XZX,17.50,N,-500.00,25.00,-122.50,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00, 19680121,15 Simpson Street Springfield,NZ,Drinvestor@gmail.com,027123456,0,970644.63 PIEJ,Mrs Investor B,132132704,19700914,15 Simpson Street Springfield,NZ,,021456789 PIEC,IR854,0005,PIE A,132132704,20220331,John Investor,010000378,4EXCDFTH-CXD,0.00,N,25000.00,0.00,0.00,0.00,0.00,0.00,0.00,-450.00,10.00,-250.00, -1500.00,0.00,19721226,56 Johnson Street Manchester,GB,,028987654,AB123456Z,123456.25 PIE File Upload Specification V1.3 35 \[UNCLASSIFIED\] 4.8.5 Grouped file example The following example shows a zipped file containing three PIE Returns files: File Name: PIE Grouped Returns-20220331-01.zip PIE Prd return single PIE-20220331-001.csv IR852,0004,PIE AAA,010000858,20220331,1.99,-2.99,1.99,-2.99,0.00,2.99,1.99,1.99,1.99,1.99,1.99,1.99,1.99,2.99,2.99,1.99,1.99,1.99,1.99,1.99,1.99, 1.99,1.99,1.99,1.99,2.99,1.99,2.99,1.99,1.99,1.99,1.99,100.00,1.44 PIE AR return single PIE-20220331-002.csv IR853,0004,PIE A,010000289,20220331,20,-2.99, 1.99,-2.99,2.99,-2.99,1.99,2.99,1.99,1.99,1.99,1.99,1.99 PIE IC return single PIE-20220331-003.csv PIEC,IR854,0005,PIE A,132132704,20220331,Mr. Investor A,010000793,12300001-CXD,28.00,Y,980.00,175.00,148.40,100.00,4.50,15.00,0.00,0.00,0.00,0.00, 0.00,0.00,19750815,20 Test Street Testville,NZ,investorA@gmail.com,,0,562762.25 PIEJ,Miss Investor A,132132704,19840321,20 Test Street Testville,NZ,investorjoint@gmail.com, PIEC,IR854,0005,PIE A,132132704,20220331,Mrs. Investor XYZ,010000769,13412301-CXG,17.50,N,735.00,125.00,18.33,0.00,0.00,0.00,0.00,0.00,0.00,0.00, 0.00,0.00,19870722,12 Bee Street Tauranga,NZ,,,0,80000.00 PIEC,IR854,0005,PIE A,132132704,20220331,Dr. Investor B,010000702,75600001-XZX,17.50,N,-500.00,25.00,-122.50,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00, 0.00,19680121,15 Simpson Street Springfield,NZ,Drinvestor@gmail.com,027123456,0,970644.63 PIEJ,Mrs Investor B,132132704,19700914,15 Simpson Street Springfield,NZ,,021456789 PIEC,IR854,0005,PIE A,132132704,20220331,John Investor,010000378,4EXCDFTH-CXD,0.00,N,25000.00,0.00,0.00,0.00,0.00,0.00,0.00,-450.00,10.00,-250.00, -1500.00,0.00,19721226,56 Johnson Street Manchester,GB,,028987654,AB123456Z,123456.25 PIE File Upload Specification V1.3 36 \[UNCLASSIFIED\] 4.9 Amending Filed Returns The following options are available under sections 89DA or 113 of the Tax Administration Act, if you need to amend a return that has already been filed: • Send a secure message in myIR. Alternatively, send in a written letter to the following address: Manager, Significant Enterprises Inland Revenue Department Private Bag 39984 Wellington • Under section 113 – The Commissioner may at any time amend the assessment as Inland Revenue thinks necessary in order to ensure its correctness, notwithstanding that tax already assessed may have been paid. • Under section 89DA –a Notice of Proposed Adjustment may be completed and sent to Inland Revenue (IR770 or IR777 for Tax Agents). PIE File Upload Specification V1.3 37 \[UNCLASSIFIED\] 5 Appendix 5.1 Inland Revenue (IRD) Number validation The IRD number format used by Inland Revenue is an eight or nine digit number consisting of the following parts – • A seven or eight digit base number • A trailing check digit Check digit Validation The following steps are to be performed - 1. Check the valid range • If the IRD number is < 10-000-000 or > 150-000-000 then the number is invalid. This step ensures that the IRD number is in the already issued range, or is in the range expected to be issued in the next 10 years. 2. Form the eight digit base number: • Remove the trailing check digit. • If the resulting number is seven digits long, pad to eight digits by adding a leading zero. 3. Calculate the check digit: • To each of the base number’s eight digits a weight factor is assigned. From left to right these are: 3, 2, 7, 6, 5, 4, 3, 2. • Sum together the products of the weight factors and their associated digits. • Divide the sum by 11. If the remainder is 0, the calculated check digit is 0. • If the remainder is not 0, subtract the remainder from 11, giving the calculated check digit. • If the calculated check digit is in the range 0 to 9, go to step 5. • If the calculated check digit is 10, continue with step 4. PIE File Upload Specification V1.3 38 \[UNCLASSIFIED\] 4. Re-calculate the check digit : • To each of the base number’s eight digits a secondary weight factor is assigned. From left to right these are: 7, 4, 3, 2, 5, 2, 7, 6. • Sum together the products of the weight factors and their associated digits. • Divide the sum by 11. If the remainder is 0, the calculated check digit is 0. • If the remainder is not 0 then subtract the remainder from 11, giving the calculated check digit. • If the calculated check digit is 10, the IRD number is invalid. 5. Compare the check digit : • Compare the calculated check digit to the last digit of the original IRD number. If they match, the IRD number is valid. Example 1 IR number 49091850. The base number is 4909185 and the supplied check digit is 0. The number is greater than 10,000,000. Using the weightings above: (0\*3) + (4\*2) + (9\*7) + (0\*6) + (9\*5) + (1\*4) + (8\*3) + (5\*2) = 154. 154 / 11 = 14 remainder 0 (i.e. mod (154,11) = 0) The remainder (0) = check digit (0), so no further calculation is necessary. Example 2 IR number 35901981. The base number is 3590198 and the supplied check digit is 1. The number is greater than 10,000,000. Using the weightings above: (0\*3) + (3\*2) + (5\*7) + (9\*6) + (0\*5) + (1\*4) + (9\*3) + (8\*2) = 142. 142 / 11 = 12 remainder 10 (i.e. mod (142,11) = 10) 11 – 10 = 1 which matches the check digit. The number is valid. Example 3 IR number 49098576. The base number is 4909857 and the supplied check digit is 6. The number is greater than 10,000,000. Using the weightings above: (0\*3) + (4\*2) + (9\*7) + (0\*6) + (9\*5) + (8\*4) + (5\*3) + (7\*2) = 177 . 177 / 11 = 16 remainder 1 (i.e. mod(177,11) = 1) 11 – 1 = 10 so perform the secondary calculation. (0\*7) + (4\*4) + (9\*3) + (0\*2) + (9\*5) + (8\*2) + (5\*7) + (7\*6) = 181 181 / 11 = 16 remainder 5 (i.e. mod(181,11) = 5) 11 – 5 = 6, this matches the check digit. The number is valid. PIE File Upload Specification V1.3 39 \[UNCLASSIFIED\] Example 4 (9 digit IRD number) IR number 136410132. The base number is 13641013 and the supplied check digit is 2. The number is greater than 10,000,000. Using the weightings above: (1\*3) + (3\*2) + (6\*7) + (4\*6) + (1\*5) + (0\*4) + (1\*3) + (3\*2) = 89 . 89 / 11 = 8 remainder 1 (i.e. mod (89,11) = 1) 11 – 1 = 10 so perform the secondary calculation. (1\*7) + (3\*4) + (6\*3) + (4\*2) + (1\*5) + (0\*2) + (1\*7) + (3\*6) = 75 75 / 11 = 6 remainder 9 (i.e. mod (75,11) = 9) 11 – 9 = 2 which matches the check digit. The number is valid. Example 5 (9 digit IRD number) IR number 136410133. The base number is 13641013 and the supplied check digit is 3. The number is greater than 10,000,000. Using the weightings above: (1\*3) + (3\*2) + (6\*7) + (4\*6) + (1\*5) + (0\*4) + (1\*3) + (3\*2) = 89 . 89 / 11 = 8 remainder 1 (i.e. mod (89,11) = 1) 11 – 1 = 10 so perform the secondary calculation. (1\*7) + (3\*4) + (6\*3) + (4\*2) + (1\*5) + (0\*2) + (1\*7) + (3\*6) = 75 75 / 11 = 6 remainder 9 (i.e. mod (75,11) = 9) 11 – 9 = 2, this does not match the check digit (3). The number is invalid. Example 6 IR number 9125568. The number is less than 10,000,000 so fails the first validation. The number is invalid. PIE File Upload Specification V1.3 40 \[UNCLASSIFIED\] 5.2 Characters Allowed in the Name fields A - Z a - z 0 - 9 ! \` # @ % $ & ^ ( \* \_ ) + - { = | } ; : ' " > < ? . / PIE File Upload Specification V1.3 41 \[UNCLASSIFIED\] 5.3 Inland Revenue Website Terms and Conditions Website – Conditions of use for Inland Revenue websites and social media pages. These can be accessed via the following link: https://www.ird.govt.nz/about-this- site/conditions/conditions-of-use.html PIE File Upload Specification V1.3 42 \[UNCLASSIFIED\] 5.4 Portfolio Investment Entity Monthly Return Filing Requirements Exemption Inland Revenue acknowledges the difficulties faced by Portfolio Investment Entities (PIEs) in providing all the information required in monthly returns to be furnished when investors exit from an Annual Exit (exit calculation option) PIE. It is understood that this may arise where the PIE operates separate unit pricing and investor registry systems whereby the net income figure calculated from the former is transferred to the latter as the starting point for calculating the tax liability for each investor. It is acknowledged that the tax liability information that is causing the concern is not information required in the daily unit pricing. However the tax liability information cannot be provided for a tax return unless identified and tracked with the other information required for daily unit pricing. Providing all the information required in the PIE return can result in increased processing time that may compromise the PIE’s ability to provide daily unit pricing to the market on a timely basis. In recognition of these difficulties, the Commissioner is prepared, under certain conditions, to alleviate the requirement for PIEs to provide income and deduction return information when determining the exiting investor’s tax liabilities in the monthly returns. The Commissioner still requires this fund information for the full year to be provided in the March year end return. Commissioner’s position The Commissioner will accept returns filed without this information and will not seek to pursue its inclusion in order to complete the requirements of the return. The Commissioner’s exemption is based upon the PIE providing the following: 1. Written application by the Fund Manager advising of each individual PIE who will be filing returns on this basis. While applications for multiple PIEs may be made, the application of each PIE will be considered separately. 2. The PIE must calculate its unit pricing on a daily basis. 3. The Fund Manager must include with the application, a declaration that provision of all information as per the return form adversely affects the ability of the PIE to provide daily unit pricing. 4. To clarify, the return information to which the Commissioner’s exemption relates, are the following: • Gross Income • Deductible Expenses • Net Income/Loss • Net land Class Income/Loss • Combined Income/Loss • Formation Loss Used • Land Class Loss Brought Forward • Land Class Loss Amount carried forward • Land Class Loss Claimed Importantly, the return format remains the same with the exemption allowing zeros 0.00 to be entered in these fields when completing the return. PIE File Upload Specification V1.3 43 \[UNCLASSIFIED\] The Commissioner considers that the temporary position that was in place can now be made a permanent exemption. Accordingly PIEs that have already received the temporary exemption can continue to file the monthly returns covering investors who exit during the year on that basis. New PIE registrants that meet the above criteria need to apply for exemption from providing full return information. 5.5 Foreign Investment PIE Return Completion We have been advised that it would be difficult for some PIEs to separately report, in the PIE returns, income of notified foreign investors (NFIs) at a gross (without expenses being deducted) basis and a net basis for other investors. A further concern for Foreign Investment Variable-rate PIEs (Variable-rate PIEs) is the retention and reporting of the various income types, whether it was sourced from New Zealand or overseas and the tax payable at each of the applicable rates. In order to do so and complete the PIE return form (IR 852), significant changes would be required to be made to existing fund accounting systems currently in use. The measures undertaken referred to below would be acceptable to Inland Revenue. It is expected that these should allow PIEs to comply with the requirements for the completion of returns for Foreign Investment PIEs without the need for significant system changes, while at the same time providing high level assurance to Inland Revenue as to the accuracy of those returns. IR 852 PIE Periodic Return - Version 3/Version 4 It is understood that PIEs may want to retain the use of version 3 of the IR 852 return in respect of Foreign Investment Zero-rate PIEs (Zero-rate PIEs) while using the version 4 (with additional fields for Income attributed to NFI and Tax on NFI income) for Variable-rate PIEs. I advise that Inland Revenue has no objection to members using either version 3 or version 4 of the return in respect of Zero-rate PIEs but would require the use of version 4 for Variable-rate PIEs. IR 854 Investor Certificates The new version 5 of the IR 854 will be required to be used from 1 April 2020 in respect of both Zero-rate and Variable-rate PIEs. This new version includes additional fields for joint investors. For NFIs it also includes reporting the additional personal level investor details and units held at year end. The income and tax being reported in the existing fields. The tax credits may also be reported as if the investor was a zero-rated investor. IR 853 Annual Reconciliation PIEs using the file upload service will be able to use version 3 or version 4. Effectively the only change in the file sent to Inland Revenue will be the version number. This also provides the opportunity to align version numbers for the series of PIE returns. Supporting Information for Returns Filed Due to the changes noted above it may not be feasible for the IR 852 returns of Foreign Investment PIEs to be reconciled at a high level (as is possible in respect of other PIE returns). This is due to expenditure not being deductible to NFIs (but deductible in respect of resident investors) and, in the case of Variable-rate PIEs, the tax payable by NFIs being based on a combination of tax rates. Notwithstanding this, Inland Revenue would still require sufficient high level assurance that the figures for PIE income and tax included in these returns are accurate. In this regard a copy of the Foreign Investment PIE’s trial balance and year to date totals as at 31 March be separately emailed to investment.desk@ird.govt.nz. If further information is sought in respect of a particular return it will be requested directly. PIE File Upload Specification V1.3 44 \[UNCLASSIFIED\] This information would only be required in support of annual PIE returns to 31 March each year and would not be required for exit or returns for other periods throughout the year. Inclusion of Resident Withholding Tax (“RWT”) Credits Attributable to Notified Foreign Investors Inland Revenue accepts that, depending on their current fund accounting systems, PIEs may or may not choose to include these credits in the returns of their Foreign Investment PIEs. In the event of these credits not being included in returns filed, any subsequent requests for their inclusion under section 113 of the Tax Administration Act 1994 would be considered on the facts pertaining to the request along with the relevant Inland Revenue Standard Practice Statement. PIE File Upload Specification V1.3 45 \[UNCLASSIFIED\] 5.6 Change Log Version Number Sections changed Change description Date 1.0 5.2 Removed ‘~’ from the list of allowed characters. 9/10/2019 4.8.4 Removed reference to NRWT list of country codes and replaced with reference to ISO 3166-2 list. 9/10/2019 4.84 Increased size of Investor Certificate Identifier from 14 to 20 characters. 10/10/2019 4 Removed section on Hard copy retention. Refer to section 36(3)(b)(ii) of the Taxation Act for guidance on retaining return information. 18/10/2019 4.7.1 4.8.2 5.4 5.5 Reinstated version 3 of the IR852 and IR853 file specifications and the information pertaining to their use in the Appendix section. 18/10/2019 3.1 Removed bullet point regarding enrolment for electronic Investment Income Reporting. This is not relevant for PIE reporting. 18/10/2019 4.8.1 Updated the wording on due dates to align with information published on the IR website. 30/10/2019 3.1.1 Noted that access to the bulk PIE filing option is available upon request to Inland Revenue. 30/10/2019 1.1 4.7.2 4.8.5 4.8.6 Corrected identified errors in some of the file format examples. Updated example file names to align with the csv files published separately in the Developer documentation space on GitHub. 11/05/2020 1.2 4.8.4 Amended Validation and Default values/notes for the ‘Period End Date’ field of the Investor Certificate file specification to state that it must be 31 March of the financial year being reported. 30/07/2020 1.3 1.3 Updated the section on legislation relating to PIE reporting requirements to reflect that as at 1 April 2020, the reporting changes are now in place and mandatory. Updated the link to the IR webpage that contains information on PIE reporting requirements. 15/12/2020 1.4 Added information on legislation change - as at 1 April 2020, the due date for the Annual Reconciliation Return and all associated Investor Certificates for locked-in funds with a balance date between October and February is the 15 th of May each year rather than 30 June. 15/12/2020 PIE File Upload Specification V1.3 46 \[UNCLASSIFIED\] Version Number Sections changed Change description Date 4.8.1 Updated information on due dates to reflect that for locked-in funds with a balance date between October and February, this information must be provided by the 15 th of May each year. 15/12/2020 4.9 Updated name of ‘Large Enterprises’ to ‘Significant Enterprises’ and added option to contact IR via a secure message in myIR. 03/02/2021 4.7 4.8 Aligned element names and notes with updated IR860 PIE guide. Updated file format examples to 2022 year. 08/02/2022 4.7.2 4.8.4 Added note for file formatting examples, including reference to examples of csv files on the GitHub. 14/02/2022 4.7.2 Expanded the note regarding an entity needing to be registered to file for different PIE IRD numbers other than the IRD number they are filing under and moved it to sit above the multiple PIE file examples. 14/02/2022 4.8.3 Provided further explanation on the concept of parent and child records. 14/02/2022 All Removed ‘Applicable from 1 May 2019’ statement. No longer relevant as the new reporting requirements are now fully implemented. 14/02/2022 3 Updated PIE File Upload Service screenshots and steps following myIR version upgrade. 21/03/2022