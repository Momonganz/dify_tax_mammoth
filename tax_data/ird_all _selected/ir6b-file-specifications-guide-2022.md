\[UNCLASSIFIED\] Inland Revenue File Upload Specification Estate or trust beneficiary details IR6B UNCLASSIFIED Date: 08 March 2022 Version: V1.0 File Upload Specification - Estate or trust beneficiary details V1.0 2 \[UNCLASSIFIED\] Contents 1. Introduction ....................................................................................................................... 3 2. Electronic filing requirements ............................................................................................ 3 2.1 Operating systems ............................................................................................................ 3 2.2 Supported web browsers .................................................................................................... 3 2.3 Messages and validations in myIR ....................................................................................... 3 3. File Upload Process ............................................................................................................ 4 4. CSV File Specifications ....................................................................................................... 5 4.1 CSV File structure ............................................................................................................. 5 4.2 Estate or Trust beneficiary details IR6B File Specification ....................................................... 6 4.3 Examples of Estate or Trust beneficiary details IR6B ............................................................. 9 5.1.1 File format ................................................................................................................ 10 5.1.2 Location ................................................................................................................... 10 5.1.3 File naming suggestions ............................................................................................. 10 5.1.4 Trailer record ............................................................................................................ 10 File Upload Specification - Estate or trust beneficiary details V1.0 3 \[UNCLASSIFIED\] 1. Introduction IR offers file upload services that give customers, tax agents and other intermediaries secure and convenient methods of filing the Estate or Trust beneficiary details IR6B online. This document provides the detailed specifications for the Estate or Trust beneficiary details IR6B filing through the file upload when completing the Estate or Trust IR6 return through MyIR. This process has been available from 01 April 2022. 2. Electronic filing requirements The myIR system enables customers and intermediaries to upload electronic versions of Estate or Trust beneficiary details IR6B. The following are requirements for using myIR. 2.1 Operating systems The myIR system is operating system independent. However, a supported web browser is required. 2.2 Supported web browsers At the date of publication of this document, the following web browsers are supported for use with myIR: • Apple Safari • Google Chrome • Microsoft Edge • Microsoft Internet Explorer 11 or newer • Mozilla Firefox If an unsupported browser is detected accessing the site, a message will display advising that some website functionality may not be available, and that IR recommends switching to a supported browser. 2.3 Messages and validations in myIR Uploaded files are validated by myIR and the customer is informed of any errors. This validation is designed to provide instant turnaround, ensuring customers are provided with an immediate response of any errors. File validation rules include: • File format • Required data fields • Data field formats • Data field maximum lengths Note this is not the definitive list of all validations – these are noted in each file specification File Upload Specification - Estate or trust beneficiary details V1.0 4 \[UNCLASSIFIED\] 3. File Upload Process This is one of the channels to submit the Estate or Trust beneficiary details IR6B to IR and is accessed via myIR. To access this service, the entity must: • have a myIR account, • be registered for Income tax with a valid period and Estate or Trust IR6 return to be filed • have access rights to file for income tax. If the above pre-conditions are met, the filer may navigate to the File Upload service by completing the following steps: 1. navigate to the Accounts tab, 2. in the Income tax account select the ‘Returns and transactions’ link, 3. select the file return option for the period you wish to file, 4. complete the IR6 return until you are at the section IR6B, select ‘If you would like to upload your beneficiaries as a file then click here.’, then 5. choose a file to upload as per the below screenshot: The file selected must be a comma-separated value (csv) file format. (A csv file is a delimited text file that uses commas to separate values, where each line of the file is a data record). If there are no errors in the file it will be submitted. If there are errors present, these will be detailed in error messages, and the payer will need to correct the errors and resubmit the file. The following section contains the detailed specifications for the csv file. File Upload Specification - Estate or trust beneficiary details V1.0 5 \[UNCLASSIFIED\] 4. CSV File Specifications This section details the format of the csv file required to be provided to IR for the Estate or Trust beneficiary details IR6B 4.1 CSV File structure The Estate or Trust beneficiary details IR6B csv file has one section in its data structure: • One or more Beneficiary detail records The detail record holds the Beneficiary details such as name, IRD number, Tax identification number, jurisdiction, and the amount of income and/or tax deducted. The following specifications contain the data elements associated with the file. They specify the • attribute type (data attributes are defined in the Appendix 5.2), • the maximum field size, • if the data element is a required field or optional • any associated data validations • any default values/notes that apply for each element. File Upload Specification - Estate or trust beneficiary details V1.0 6 \[UNCLASSIFIED\] 4.2 Estate or Trust beneficiary details IR6B File Specification Column name Column value Attribute Field size Required/Optional /Conditional Validations and Notes Beneficiary Name Name of beneficiary ANAM 255 Required Beneficiary DOB Date of Birth DATE 8 Required/Conditional Not required if 'Are you excluded from the additional reporting requirements for NZ domestic trusts' is True in the IR6 return. Beneficiary Address Beneficiary known address. Should contain Street, Suburb, City, Country and Postcode. ANAM 255 Optional Beneficiary jurisdiction Jurisdiction of tax residency ALPHA 2 Required/Conditional ISO-2A country code value Not required if 'Are you excluded from the additional reporting requirements for NZ domestic trusts' is True in the IR6 return. TIN not issued by jurisdiction Jurisdiction does not issue Tax Identification Number RANGE 1 Required Must be Y or N TIN not required Tax Identification Number not required in Jurisdiction RANGE 1 Required Must be Y or N Beneficiary IRD IRD number of Beneficiary NUM 9 Required/Conditional Required if: - Jurisdiction of Tax Residency = New Zealand - Both Jurisdiction does not issue TINs and TIN not required in Jurisdiction are false - "Are you excluded from the additional reporting requirements for NZ domestic trusts" is False in the IR6 return. File Upload Specification - Estate or trust beneficiary details V1.0 7 \[UNCLASSIFIED\] Not required if 'Are you excluded from the additional reporting requirements for NZ domestic trusts' is True in the IR6 return. Validation rules are outlined in Appendix 5.3 Beneficiary TIN Tax Identification Number of Beneficiary ANAM 50 Required/Conditional Required if: - Jurisdiction of Tax Residency anything but New Zealand - Both Jurisdiction does not issue TINs and TIN not required in Jurisdiction are false - IRD Number has no value - "Are you excluded from the additional reporting requirements for NZ domestic trusts" is False in the IR6 return. Not required if 'Are you excluded from the additional reporting requirements for NZ domestic trusts' is True in the IR6 return. Beneficiary Interest Interest CURR 8 Required Can be less than 0 Beneficiary Dividends Dividends PDEC 8 Required Cannot be less than 0 Beneficiary Maori Authority Maori Authority Distributions PDEC 8 Required Cannot be less than 0 Beneficiary Overseas Overseas Income CURR 8 Required Can be less than 0 Beneficiary Other Other Income CURR 8 Required Can be less than 0 Beneficiary Trust Paying Tax Estate or Trust Paying Tax on Beneficiary's Income RANGE 1 Required Must be Y or N Beneficiary Non- Complying Taxable Distribution by Non-Complying Trust CURR 8 Required Can be less than 0 File Upload Specification - Estate or trust beneficiary details V1.0 8 \[UNCLASSIFIED\] Beneficiary Tax on Taxable Inc Tax on Taxable Income CURR 8 Required If "Beneficiary Trust Paying Tax" is "N" then this must be zero. Otherwise, it cannot be less than 0. Beneficiary Overseas Tax Paid Overseas Tax Paid PDEC 8 Required Cannot be less than 0 Beneficiary Imputation Imputation Credits PDEC 8 Required Cannot be less than 0 Beneficiary Tax Credits RWT and Other Tax Credits PDEC 8 Required Cannot be less than 0 Beneficiary Opening Balance Opening balance CURR 8 Required Can be less than 0 Accounting income and other distributions Accounting income and other distributions PDEC 8 Required Cannot be less than 0 Corpus Corpus PDEC 8 Required Cannot be less than 0 Capital Capital PDEC 8 Required Cannot be less than 0 Property Use Use of trust property for less than market value PDEC 8 Required Cannot be less than 0 Trust distributions Distribution of trust assets PDEC 8 Required Cannot be less than 0 Forgiveness of debt Forgiveness of debt PDEC 8 Required Cannot be less than 0 Beneficiary Amount Withdrawn Amounts withdrawn from the trust during the year CURR 8 Required Can be less than 0 File Upload Specification - Estate or trust beneficiary details V1.0 9 \[UNCLASSIFIED\] 4.3 Examples of Estate or Trust beneficiary details IR6B Note: the examples below are intended to show the layout of the file – customer details are fictitious - Customer who is in NZ with a IRD number with Income and tax deductions Beneficiary One,19820101,,NZ,N,N,123456789,,1000-,2000,300,400,500,Y,100,5000,2000,200,20,1000,1000,1000,1000,1000,1000,1000,1000 - Customer who is overseas with a TIN Beneficiary Two,20000101,Full Address in USA,US,N,N,,222444666888,0,0,0,0,0,Y,100,50,2,2,2,100,100,100,100,100,100,100,100 Beneficiary Three,19880202,Full Address in Finland,FI,N,N,123123123,,1000,2000,3000,4000,500,N,1000,0,2000,2000,2000,0,0,0,0,0,0,0,0 - Customers who is overseas with an exemption Beneficiary Four,19900202,,US,N,Y,,,10000,20000,30000,40000,50000,Y,10000,5000,200,200,200,0,0,0,0,0,0,0,0 Beneficiary Five,2000202,,CH,Y,N,,,100,200,300,400,500,N,100-,0,20,20,20,10,20,30,40,50,60,70,80 File Upload Specification - Estate or trust beneficiary details V1.0 10 \[UNCLASSIFIED\] 5. Appendix 5.1 myIR format and layout This section specifies the file format and layout that will be sent through the myIR system. 5.1.1 File format The file format for all myIR file transfer services is ASCII comma delimited format. 5.1.2 Location The output file must be placed in a directory that is easily accessible from the desktop. Depending on the file size, it can either be placed in a local or a LAN drive. 5.1.3 File naming suggestions There is no standard file naming required. However, for easier identification we suggest the following: • A unique, income tax period-based name. • Inclusion of the type of return to differentiate it from other returns, which may be required to be filed electronically in the future. • A CSV extension to indicate the file type. 5.1.4 Trailer record There is no trailer record required. File Upload Specification - Estate or trust beneficiary details V1.0 11 \[UNCLASSIFIED\] 5.2 Data attributes The following is a list of valid attributes accepted by the myIR system: Data type Description ALPHA Alphabetic characters only. Alphabetic: Any letter or space (“a” to “z”, “A” to “Z” and space). Leading and trailing spaces must be trimmed; field values must not be enclosed in quotes; blank values must have a format of comma comma i.e.,, NUM A positive integer of a given length. No ‘+’ sign (unless being used for a phone number). ANAM Alphabetic and numeric characters from a standard 101/102 keyboard except commas, square brackets, backslashes and quotation marks (“). Leading and trailing spaces must be trimmed; embedded spaces left as is; all spaces are invalid. PDEC Money in cents. The number should be a non-negative decimal integer. For example, if the amount is $547.98, the output format should be ‘54798’. No padding is required. Nil values should be represented by zero, i.e. 0. CURR Money in cents; the decimal point is implied; the number can be positive or negative. E.g. $102.67 is entered as 10267 DATE Any valid date in the format CCYYMMDD. IRD A valid 9 digit IRD number. It must be modulus 11 checked (see IRD number validation). Note that IRD numbers can contain eight or nine digits. From June 2008, IR introduced an extended number range for IRD numbers to include a new 9 digit range. When entering eight digit IRD numbers, you will need to add a leading zero (0), or they will be rejected by the data validation check. RANGE This field may only contain the values within the given range. Blank values must have a format of comma comma, i.e. ,, EMAIL This field will contain the email address. Email addresses must follow the RFC 5322 email standard. The full technical specification for this standard can be found here: https://tools.ietf.org/html/rfc5322 File Upload Specification - Estate or trust beneficiary details V1.0 12 \[UNCLASSIFIED\] 5.3 Inland Revenue (IRD) Number validation The IRD number format used by Inland Revenue is an eight- or nine-digit number consisting of the following parts – • A seven or eight digit base number • A trailing check digit Check digit validation The following steps are to be performed - 1. Check the valid range • If the IRD number is < 10-000-000 or > 150-000-000 then the number is invalid. This step ensures that the IRD number is in the already issued range or is in the range expected to be issued in the next 10 years. 2. Form the eight-digit base number: • Remove the trailing check digit. • If the resulting number is seven digits long, pad to eight digits by adding a leading zero. 3. Calculate the check digit: • To each of the base number’s eight digits a weight factor is assigned. From left to right these are: 3, 2, 7, 6, 5, 4, 3, 2. • Sum together the products of the weight factors and their associated digits. • Divide the sum by 11. If the remainder is 0, the calculated check digit is 0. • If the remainder is not 0, subtract the remainder from 11, giving the calculated check digit. • If the calculated check digit is in the range 0 to 9, go to step 5. • If the calculated check digit is 10, continue with step 4. 4. Re-calculate the check digit : • To each of the base number’s eight digits a secondary weight factor is assigned. From left to right these are: 7, 4, 3, 2, 5, 2, 7, 6. • Sum together the products of the weight factors and their associated digits. • Divide the sum by 11. If the remainder is 0, the calculated check digit is 0. • If the remainder is not 0 then subtract the remainder from 11, giving the calculated check digit. • If the calculated check digit is 10, the IRD number is invalid. 5. Compare the check digit : • Compare the calculated check digit to the last digit of the original IRD number. If they match, the IRD number is valid. Example 1 IR number 49091850. The base number is 4909185 and the supplied check digit is 0. The number is greater than 10,000,000. Using the weightings above: (0\*3) + (4\*2) + (9\*7) + (0\*6) + (9\*5) + (1\*4) + (8\*3) + (5\*2) = 154. 154 / 11 = 14 remainder 0 (i.e. mod (154,11) = 0) The remainder (0) = check digit (0), so no further calculation is necessary. File Upload Specification - Estate or trust beneficiary details V1.0 13 \[UNCLASSIFIED\] Example 2 IR number 35901981. The base number is 3590198 and the supplied check digit is 1. The number is greater than 10,000,000. Using the weightings above: (0\*3) + (3\*2) + (5\*7) + (9\*6) + (0\*5) + (1\*4) + (9\*3) + (8\*2) = 142. 142 / 11 = 12 remainder 10 (i.e. mod (142,11) = 10) 11 – 10 = 1 which matches the check digit. The number is valid. Example 3 IR number 49098576. The base number is 4909857 and the supplied check digit is 6. The number is greater than 10,000,000. Using the weightings above: (0\*3) + (4\*2) + (9\*7) + (0\*6) + (9\*5) + (8\*4) + (5\*3) + (7\*2) = 177 . 177 / 11 = 16 remainder 1 (i.e. mod(177,11) = 1) 11 – 1 = 10 so perform the secondary calculation. (0\*7) + (4\*4) + (9\*3) + (0\*2) + (9\*5) + (8\*2) + (5\*7) + (7\*6) = 181 181 / 11 = 16 remainder 5 (i.e. mod(181,11) = 5) 11 – 5 = 6, this matches the check digit. The number is valid. Example 4 (9 digit IRD number) IR number 136410132. The base number is 13641013 and the supplied check digit is 2. The number is greater than 10,000,000. Using the weightings above: (1\*3) + (3\*2) + (6\*7) + (4\*6) + (1\*5) + (0\*4) + (1\*3) + (3\*2) = 89 . 89 / 11 = 8 remainder 1 (i.e. mod (89,11) = 1) 11 – 1 = 10 so perform the secondary calculation. (1\*7) + (3\*4) + (6\*3) + (4\*2) + (1\*5) + (0\*2) + (1\*7) + (3\*6) = 75 75 / 11 = 6 remainder 9 (i.e. mod (75,11) = 9) 11 – 9 = 2 which matches the check digit. The number is valid. Example 5 (9 digit IRD number) IR number 136410133. The base number is 13641013 and the supplied check digit is 3. The number is greater than 10,000,000. Using the weightings above: (1\*3) + (3\*2) + (6\*7) + (4\*6) + (1\*5) + (0\*4) + (1\*3) + (3\*2) = 89 . 89 / 11 = 8 remainder 1 (i.e. mod (89,11) = 1) 11 – 1 = 10 so perform the secondary calculation. (1\*7) + (3\*4) + (6\*3) + (4\*2) + (1\*5) + (0\*2) + (1\*7) + (3\*6) = 75 75 / 11 = 6 remainder 9 (i.e. mod (75,11) = 9) 11 – 9 = 2, this does not match the check digit (3). The number is invalid. Example 6 IR number 9125568. The number is less than 10,000,000 so fails the first validation. The number is invalid.